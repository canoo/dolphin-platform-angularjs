!function(){return function e(t,n,o){function r(i,c){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!c&&l)return l(i,!0);if(a)return a(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var s=n[i]={exports:{}};t[i][0].call(s.exports,function(e){var n=t[i][1][e];return r(n||e)},s,s.exports,e,t,n,o)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}}()({1:[function(e,t,n){(function(o){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){if("object"===(void 0===n?"undefined":r(n))&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:this).dolphin=e()}}(function(){return function t(n,o,r){function a(c,l){if(!o[c]){if(!n[c]){var u="function"==typeof e&&e;if(!l&&u)return u(c,!0);if(i)return i(c,!0);var s=new Error("Cannot find module '"+c+"'");throw s.code="MODULE_NOT_FOUND",s}var d=o[c]={exports:{}};n[c][0].call(d.exports,function(e){var t=n[c][1][e];return a(t||e)},d,d.exports,t,n,o,r)}return o[c].exports}for(var i="function"==typeof e&&e,c=0;c<r.length;c++)a(r[c]);return a}({1:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),t.exports=e("../modules/_core").Map},{"../modules/_core":18,"../modules/es6.map":72,"../modules/es6.object.to-string":73,"../modules/es6.string.iterator":76,"../modules/es7.map.to-json":77,"../modules/web.dom.iterable":79}],2:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/_core").Promise},{"../modules/_core":18,"../modules/es6.object.to-string":73,"../modules/es6.promise":74,"../modules/es6.string.iterator":76,"../modules/web.dom.iterable":79}],3:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.set"),e("../modules/es7.set.to-json"),t.exports=e("../modules/_core").Set},{"../modules/_core":18,"../modules/es6.object.to-string":73,"../modules/es6.set":75,"../modules/es6.string.iterator":76,"../modules/es7.set.to-json":78,"../modules/web.dom.iterable":79}],4:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],5:[function(e,t,n){t.exports=function(){}},{}],6:[function(e,t,n){t.exports=function(e,t,n,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(n+": incorrect invocation!");return e}},{}],7:[function(e,t,n){var o=e("./_is-object");t.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":36}],8:[function(e,t,n){var o=e("./_for-of");t.exports=function(e,t){var n=[];return o(e,!1,n.push,n,t),n}},{"./_for-of":26}],9:[function(e,t,n){var o=e("./_to-iobject"),r=e("./_to-length"),a=e("./_to-index");t.exports=function(e){return function(t,n,i){var c,l=o(t),u=r(l.length),s=a(i,u);if(e&&n!=n){for(;u>s;)if((c=l[s++])!=c)return!0}else for(;u>s;s++)if((e||s in l)&&l[s]===n)return e||s||0;return!e&&-1}}},{"./_to-index":62,"./_to-iobject":64,"./_to-length":65}],10:[function(e,t,n){var o=e("./_ctx"),r=e("./_iobject"),a=e("./_to-object"),i=e("./_to-length"),c=e("./_array-species-create");t.exports=function(e,t){var n=1==e,l=2==e,u=3==e,s=4==e,d=6==e,f=5==e||d,h=t||c;return function(t,c,m){for(var p,y,_=a(t),v=r(_),b=o(c,m,3),C=i(v.length),g=0,M=n?h(t,C):l?h(t,0):void 0;C>g;g++)if((f||g in v)&&(y=b(p=v[g],g,_),e))if(n)M[g]=y;else if(y)switch(e){case 3:return!0;case 5:return p;case 6:return g;case 2:M.push(p)}else if(s)return!1;return d?-1:u||s?s:M}}},{"./_array-species-create":12,"./_ctx":19,"./_iobject":33,"./_to-length":65,"./_to-object":66}],11:[function(e,t,n){var o=e("./_is-object"),r=e("./_is-array"),a=e("./_wks")("species");t.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),o(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},{"./_is-array":35,"./_is-object":36,"./_wks":69}],12:[function(e,t,n){var o=e("./_array-species-constructor");t.exports=function(e,t){return new(o(e))(t)}},{"./_array-species-constructor":11}],13:[function(e,t,n){var o=e("./_cof"),r=e("./_wks")("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:a?o(t):"Object"==(i=o(t))&&"function"==typeof t.callee?"Arguments":i}},{"./_cof":14,"./_wks":69}],14:[function(e,t,n){var o={}.toString;t.exports=function(e){return o.call(e).slice(8,-1)}},{}],15:[function(e,t,n){var o=e("./_object-dp").f,r=e("./_object-create"),a=e("./_redefine-all"),i=e("./_ctx"),c=e("./_an-instance"),l=e("./_defined"),u=e("./_for-of"),s=e("./_iter-define"),d=e("./_iter-step"),f=e("./_set-species"),h=e("./_descriptors"),m=e("./_meta").fastKey,p=h?"_s":"size",y=function(e,t){var n,o=m(t);if("F"!==o)return e._i[o];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(e,t,n,s){var d=e(function(e,o){c(e,d,t,"_i"),e._i=r(null),e._f=void 0,e._l=void 0,e[p]=0,null!=o&&u(o,n,e[s],e)});return a(d.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[p]=0},delete:function(e){var t=this,n=y(t,e);if(n){var o=n.n,r=n.p;delete t._i[n.i],n.r=!0,r&&(r.n=o),o&&(o.p=r),t._f==n&&(t._f=o),t._l==n&&(t._l=r),t[p]--}return!!n},forEach:function(e){c(this,d,"forEach");for(var t,n=i(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!y(this,e)}}),h&&o(d.prototype,"size",{get:function(){return l(this[p])}}),d},def:function(e,t,n){var o,r,a=y(e,t);return a?a.v=n:(e._l=a={i:r=m(t,!0),k:t,v:n,p:o=e._l,n:void 0,r:!1},e._f||(e._f=a),o&&(o.n=a),e[p]++,"F"!==r&&(e._i[r]=a)),e},getEntry:y,setStrong:function(e,t,n){s(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?d(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,d(1))},n?"entries":"values",!n,!0),f(t)}}},{"./_an-instance":6,"./_ctx":19,"./_defined":20,"./_descriptors":21,"./_for-of":26,"./_iter-define":39,"./_iter-step":41,"./_meta":44,"./_object-create":46,"./_object-dp":47,"./_redefine-all":53,"./_set-species":55}],16:[function(e,t,n){var o=e("./_classof"),r=e("./_array-from-iterable");t.exports=function(e){return function(){if(o(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},{"./_array-from-iterable":8,"./_classof":13}],17:[function(e,t,n){var o=e("./_global"),r=e("./_export"),a=e("./_meta"),i=e("./_fails"),c=e("./_hide"),l=e("./_redefine-all"),u=e("./_for-of"),s=e("./_an-instance"),d=e("./_is-object"),f=e("./_set-to-string-tag"),h=e("./_object-dp").f,m=e("./_array-methods")(0),p=e("./_descriptors");t.exports=function(e,t,n,y,_,v){var b=o[e],C=b,g=_?"set":"add",M=C&&C.prototype,k={};return p&&"function"==typeof C&&(v||M.forEach&&!i(function(){(new C).entries().next()}))?(C=t(function(t,n){s(t,C,e,"_c"),t._c=new b,null!=n&&u(n,_,t[g],t)}),m("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in M&&(!v||"clear"!=e)&&c(C.prototype,e,function(n,o){if(s(this,C,e),!t&&v&&!d(n))return"get"==e&&void 0;var r=this._c[e](0===n?0:n,o);return t?this:r})}),"size"in M&&h(C.prototype,"size",{get:function(){return this._c.size}})):(C=y.getConstructor(t,e,_,g),l(C.prototype,n),a.NEED=!0),f(C,e),k[e]=C,r(r.G+r.W+r.F,k),v||y.setStrong(C,e,_),C}},{"./_an-instance":6,"./_array-methods":10,"./_descriptors":21,"./_export":24,"./_fails":25,"./_for-of":26,"./_global":27,"./_hide":29,"./_is-object":36,"./_meta":44,"./_object-dp":47,"./_redefine-all":53,"./_set-to-string-tag":56}],18:[function(e,t,n){var o=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=o)},{}],19:[function(e,t,n){var o=e("./_a-function");t.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":4}],20:[function(e,t,n){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],21:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":25}],22:[function(e,t,n){var o=e("./_is-object"),r=e("./_global").document,a=o(r)&&o(r.createElement);t.exports=function(e){return a?r.createElement(e):{}}},{"./_global":27,"./_is-object":36}],23:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],24:[function(e,t,n){var o=e("./_global"),r=e("./_core"),a=e("./_ctx"),i=e("./_hide"),c="prototype",l=function e(t,n,l){var u,s,d,f=t&e.F,h=t&e.G,m=t&e.S,p=t&e.P,y=t&e.B,_=t&e.W,v=h?r:r[n]||(r[n]={}),b=v[c],C=h?o:m?o[n]:(o[n]||{})[c];for(u in h&&(l=n),l)(s=!f&&C&&void 0!==C[u])&&u in v||(d=s?C[u]:l[u],v[u]=h&&"function"!=typeof C[u]?l[u]:y&&s?a(d,o):_&&C[u]==d?function(e){var t=function(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,o)}return e.apply(this,arguments)};return t[c]=e[c],t}(d):p&&"function"==typeof d?a(Function.call,d):d,p&&((v.virtual||(v.virtual={}))[u]=d,t&e.R&&b&&!b[u]&&i(b,u,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{"./_core":18,"./_ctx":19,"./_global":27,"./_hide":29}],25:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],26:[function(e,t,n){var o=e("./_ctx"),r=e("./_iter-call"),a=e("./_is-array-iter"),i=e("./_an-object"),c=e("./_to-length"),l=e("./core.get-iterator-method"),u={},s={},d=t.exports=function(e,t,n,d,f){var h,m,p,y,_=f?function(){return e}:l(e),v=o(n,d,t?2:1),b=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(a(_)){for(h=c(e.length);h>b;b++)if((y=t?v(i(m=e[b])[0],m[1]):v(e[b]))===u||y===s)return y}else for(p=_.call(e);!(m=p.next()).done;)if((y=r(p,v,m.value,t))===u||y===s)return y};d.BREAK=u,d.RETURN=s},{"./_an-object":7,"./_ctx":19,"./_is-array-iter":34,"./_iter-call":37,"./_to-length":65,"./core.get-iterator-method":70}],27:[function(e,t,n){var o=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=o)},{}],28:[function(e,t,n){var o={}.hasOwnProperty;t.exports=function(e,t){return o.call(e,t)}},{}],29:[function(e,t,n){var o=e("./_object-dp"),r=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":21,"./_object-dp":47,"./_property-desc":52}],30:[function(e,t,n){t.exports=e("./_global").document&&document.documentElement},{"./_global":27}],31:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":21,"./_dom-create":22,"./_fails":25}],32:[function(e,t,n){t.exports=function(e,t,n){var o=void 0===n;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],33:[function(e,t,n){var o=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},{"./_cof":14}],34:[function(e,t,n){var o=e("./_iterators"),r=e("./_wks")("iterator"),a=Array.prototype;t.exports=function(e){return void 0!==e&&(o.Array===e||a[r]===e)}},{"./_iterators":42,"./_wks":69}],35:[function(e,t,n){var o=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==o(e)}},{"./_cof":14}],36:[function(e,t,n){var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)};t.exports=function(e){return"object"===(void 0===e?"undefined":i(e))?null!==e:"function"==typeof e}},{}],37:[function(e,t,n){var o=e("./_an-object");t.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&o(a.call(e)),t}}},{"./_an-object":7}],38:[function(e,t,n){var o=e("./_object-create"),r=e("./_property-desc"),a=e("./_set-to-string-tag"),i={};e("./_hide")(i,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=o(i,{next:r(1,n)}),a(e,t+" Iterator")}},{"./_hide":29,"./_object-create":46,"./_property-desc":52,"./_set-to-string-tag":56,"./_wks":69}],39:[function(e,t,n){var o=e("./_library"),r=e("./_export"),a=e("./_redefine"),i=e("./_hide"),c=e("./_has"),l=e("./_iterators"),u=e("./_iter-create"),s=e("./_set-to-string-tag"),d=e("./_object-gpo"),f=e("./_wks")("iterator"),h=!([].keys&&"next"in[].keys()),m="values",p=function(){return this};t.exports=function(e,t,n,y,_,v,b){u(n,t,y);var C,g,M,k=function(e){if(!h&&e in T)return T[e];switch(e){case"keys":case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",P=_==m,A=!1,T=e.prototype,w=T[f]||T["@@iterator"]||_&&T[_],D=w||k(_),O=_?P?k("entries"):D:void 0,I="Array"==t&&T.entries||w;if(I&&(M=d(I.call(new e)))!==Object.prototype&&(s(M,E,!0),o||c(M,f)||i(M,f,p)),P&&w&&w.name!==m&&(A=!0,D=function(){return w.call(this)}),o&&!b||!h&&!A&&T[f]||i(T,f,D),l[t]=D,l[E]=p,_)if(C={values:P?D:k(m),keys:v?D:k("keys"),entries:O},b)for(g in C)g in T||a(T,g,C[g]);else r(r.P+r.F*(h||A),t,C);return C}},{"./_export":24,"./_has":28,"./_hide":29,"./_iter-create":38,"./_iterators":42,"./_library":43,"./_object-gpo":49,"./_redefine":54,"./_set-to-string-tag":56,"./_wks":69}],40:[function(e,t,n){var o=e("./_wks")("iterator"),r=!1;try{var a=[7][o]();a.return=function(){r=!0},Array.from(a,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var a=[7],i=a[o]();i.next=function(){return{done:n=!0}},a[o]=function(){return i},e(a)}catch(e){}return n}},{"./_wks":69}],41:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],42:[function(e,t,n){t.exports={}},{}],43:[function(e,t,n){t.exports=!0},{}],44:[function(e,t,n){var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)},c=e("./_uid")("meta"),l=e("./_is-object"),u=e("./_has"),s=e("./_object-dp").f,d=0,f=Object.isExtensible||function(){return!0},h=!e("./_fails")(function(){return f(Object.preventExtensions({}))}),m=function(e){s(e,c,{value:{i:"O"+ ++d,w:{}}})},p=t.exports={KEY:c,NEED:!1,fastKey:function(e,t){if(!l(e))return"symbol"==(void 0===e?"undefined":i(e))?e:("string"==typeof e?"S":"P")+e;if(!u(e,c)){if(!f(e))return"F";if(!t)return"E";m(e)}return e[c].i},getWeak:function(e,t){if(!u(e,c)){if(!f(e))return!0;if(!t)return!1;m(e)}return e[c].w},onFreeze:function(e){return h&&p.NEED&&f(e)&&!u(e,c)&&m(e),e}}},{"./_fails":25,"./_has":28,"./_is-object":36,"./_object-dp":47,"./_uid":68}],45:[function(e,t,n){var o=e("./_global"),r=e("./_task").set,a=o.MutationObserver||o.WebKitMutationObserver,i=o.process,c=o.Promise,l="process"==e("./_cof")(i);t.exports=function(){var e,t,n,u=function(){var o,r;for(l&&(o=i.domain)&&o.exit();e;){r=e.fn,e=e.next;try{r()}catch(o){throw e?n():t=void 0,o}}t=void 0,o&&o.enter()};if(l)n=function(){i.nextTick(u)};else if(a){var s=!0,d=document.createTextNode("");new a(u).observe(d,{characterData:!0}),n=function(){d.data=s=!s}}else if(c&&c.resolve){var f=c.resolve();n=function(){f.then(u)}}else n=function(){r.call(o,u)};return function(o){var r={fn:o,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},{"./_cof":14,"./_global":27,"./_task":61}],46:[function(e,t,n){var o=e("./_an-object"),r=e("./_object-dps"),a=e("./_enum-bug-keys"),i=e("./_shared-key")("IE_PROTO"),c=function(){},l="prototype",u=function(){var t,n=e("./_dom-create")("iframe"),o=a.length;for(n.style.display="none",e("./_html").appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;o--;)delete u[l][a[o]];return u()};t.exports=Object.create||function(e,t){var n;return null!==e?(c[l]=o(e),n=new c,c[l]=null,n[i]=e):n=u(),void 0===t?n:r(n,t)}},{"./_an-object":7,"./_dom-create":22,"./_enum-bug-keys":23,"./_html":30,"./_object-dps":48,"./_shared-key":57}],47:[function(e,t,n){var o=e("./_an-object"),r=e("./_ie8-dom-define"),a=e("./_to-primitive"),i=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(o(e),t=a(t,!0),o(n),r)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":7,"./_descriptors":21,"./_ie8-dom-define":31,"./_to-primitive":67}],48:[function(e,t,n){var o=e("./_object-dp"),r=e("./_an-object"),a=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){r(e);for(var n,i=a(t),c=i.length,l=0;c>l;)o.f(e,n=i[l++],t[n]);return e}},{"./_an-object":7,"./_descriptors":21,"./_object-dp":47,"./_object-keys":51}],49:[function(e,t,n){var o=e("./_has"),r=e("./_to-object"),a=e("./_shared-key")("IE_PROTO"),i=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=r(e),o(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},{"./_has":28,"./_shared-key":57,"./_to-object":66}],50:[function(e,t,n){var o=e("./_has"),r=e("./_to-iobject"),a=e("./_array-includes")(!1),i=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,c=r(e),l=0,u=[];for(n in c)n!=i&&o(c,n)&&u.push(n);for(;t.length>l;)o(c,n=t[l++])&&(~a(u,n)||u.push(n));return u}},{"./_array-includes":9,"./_has":28,"./_shared-key":57,"./_to-iobject":64}],51:[function(e,t,n){var o=e("./_object-keys-internal"),r=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return o(e,r)}},{"./_enum-bug-keys":23,"./_object-keys-internal":50}],52:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],53:[function(e,t,n){var o=e("./_hide");t.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:o(e,r,t[r]);return e}},{"./_hide":29}],54:[function(e,t,n){t.exports=e("./_hide")},{"./_hide":29}],55:[function(e,t,n){var o=e("./_global"),r=e("./_core"),a=e("./_object-dp"),i=e("./_descriptors"),c=e("./_wks")("species");t.exports=function(e){var t="function"==typeof r[e]?r[e]:o[e];i&&t&&!t[c]&&a.f(t,c,{configurable:!0,get:function(){return this}})}},{"./_core":18,"./_descriptors":21,"./_global":27,"./_object-dp":47,"./_wks":69}],56:[function(e,t,n){var o=e("./_object-dp").f,r=e("./_has"),a=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,a)&&o(e,a,{configurable:!0,value:t})}},{"./_has":28,"./_object-dp":47,"./_wks":69}],57:[function(e,t,n){var o=e("./_shared")("keys"),r=e("./_uid");t.exports=function(e){return o[e]||(o[e]=r(e))}},{"./_shared":58,"./_uid":68}],58:[function(e,t,n){var o=e("./_global"),r="__core-js_shared__",a=o[r]||(o[r]={});t.exports=function(e){return a[e]||(a[e]={})}},{"./_global":27}],59:[function(e,t,n){var o=e("./_an-object"),r=e("./_a-function"),a=e("./_wks")("species");t.exports=function(e,t){var n,i=o(e).constructor;return void 0===i||null==(n=o(i)[a])?t:r(n)}},{"./_a-function":4,"./_an-object":7,"./_wks":69}],60:[function(e,t,n){var o=e("./_to-integer"),r=e("./_defined");t.exports=function(e){return function(t,n){var a,i,c=String(r(t)),l=o(n),u=c.length;return l<0||l>=u?e?"":void 0:(a=c.charCodeAt(l))<55296||a>56319||l+1===u||(i=c.charCodeAt(l+1))<56320||i>57343?e?c.charAt(l):a:e?c.slice(l,l+2):i-56320+(a-55296<<10)+65536}}},{"./_defined":20,"./_to-integer":63}],61:[function(e,t,n){var o,r,a,i=e("./_ctx"),c=e("./_invoke"),l=e("./_html"),u=e("./_dom-create"),s=e("./_global"),d=s.process,f=s.setImmediate,h=s.clearImmediate,m=s.MessageChannel,p=0,y={},_="onreadystatechange",v=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){v.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++p]=function(){c("function"==typeof e?e:Function(e),t)},o(p),p},h=function(e){delete y[e]},"process"==e("./_cof")(d)?o=function(e){d.nextTick(i(v,e,1))}:m?(a=(r=new m).port2,r.port1.onmessage=b,o=i(a.postMessage,a,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(o=function(e){s.postMessage(e+"","*")},s.addEventListener("message",b,!1)):o=_ in u("script")?function(e){l.appendChild(u("script"))[_]=function(){l.removeChild(this),v.call(e)}}:function(e){setTimeout(i(v,e,1),0)}),t.exports={set:f,clear:h}},{"./_cof":14,"./_ctx":19,"./_dom-create":22,"./_global":27,"./_html":30,"./_invoke":32}],62:[function(e,t,n){var o=e("./_to-integer"),r=Math.max,a=Math.min;t.exports=function(e,t){return(e=o(e))<0?r(e+t,0):a(e,t)}},{"./_to-integer":63}],63:[function(e,t,n){var o=Math.ceil,r=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?r:o)(e)}},{}],64:[function(e,t,n){var o=e("./_iobject"),r=e("./_defined");t.exports=function(e){return o(r(e))}},{"./_defined":20,"./_iobject":33}],65:[function(e,t,n){var o=e("./_to-integer"),r=Math.min;t.exports=function(e){return e>0?r(o(e),9007199254740991):0}},{"./_to-integer":63}],66:[function(e,t,n){var o=e("./_defined");t.exports=function(e){return Object(o(e))}},{"./_defined":20}],67:[function(e,t,n){var o=e("./_is-object");t.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":36}],68:[function(e,t,n){var o=0,r=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++o+r).toString(36))}},{}],69:[function(e,t,n){var o=e("./_shared")("wks"),r=e("./_uid"),a=e("./_global").Symbol,i="function"==typeof a;(t.exports=function(e){return o[e]||(o[e]=i&&a[e]||(i?a:r)("Symbol."+e))}).store=o},{"./_global":27,"./_shared":58,"./_uid":68}],70:[function(e,t,n){var o=e("./_classof"),r=e("./_wks")("iterator"),a=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||a[o(e)]}},{"./_classof":13,"./_core":18,"./_iterators":42,"./_wks":69}],71:[function(e,t,n){var o=e("./_add-to-unscopables"),r=e("./_iter-step"),a=e("./_iterators"),i=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},{"./_add-to-unscopables":5,"./_iter-define":39,"./_iter-step":41,"./_iterators":42,"./_to-iobject":64}],72:[function(e,t,n){var o=e("./_collection-strong");t.exports=e("./_collection")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=o.getEntry(this,e);return t&&t.v},set:function(e,t){return o.def(this,0===e?0:e,t)}},o,!0)},{"./_collection":17,"./_collection-strong":15}],73:[function(e,t,n){},{}],74:[function(e,t,n){var o,r,a,i=e("./_library"),c=e("./_global"),l=e("./_ctx"),u=e("./_classof"),s=e("./_export"),d=e("./_is-object"),f=e("./_a-function"),h=e("./_an-instance"),m=e("./_for-of"),p=e("./_species-constructor"),y=e("./_task").set,_=e("./_microtask")(),v="Promise",b=c.TypeError,C=c.process,g=c[v],M="process"==u(C=c.process),k=function(){},E=!!function(){try{var t=g.resolve(1),n=(t.constructor={})[e("./_wks")("species")]=function(e){e(k,k)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof n}catch(e){}}(),P=function(e,t){return e===t||e===g&&t===a},A=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},T=function(e){return P(g,e)?new w(e):new r(e)},w=r=function(e){var t,n;this.promise=new e(function(e,o){if(void 0!==t||void 0!==n)throw b("Bad Promise constructor");t=e,n=o}),this.resolve=f(t),this.reject=f(n)},D=function(e){try{e()}catch(e){return{error:e}}},O=function(e,t){if(!e._n){e._n=!0;var n=e._c;_(function(){for(var o=e._v,r=1==e._s,a=0,i=function(t){var n,a,i=r?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{i?(r||(2==e._h&&S(e),e._h=1),!0===i?n=o:(u&&u.enter(),n=i(o),u&&u.exit()),n===t.promise?l(b("Promise-chain cycle")):(a=A(n))?a.call(n,c,l):c(n)):l(o)}catch(e){l(e)}};n.length>a;)i(n[a++]);e._c=[],e._n=!1,t&&!e._h&&I(e)})}},I=function(e){y.call(c,function(){var t,n,o,r=e._v;if(N(e)&&(t=D(function(){M?C.emit("unhandledRejection",r,e):(n=c.onunhandledrejection)?n({promise:e,reason:r}):(o=c.console)&&o.error&&o.error("Unhandled promise rejection",r)}),e._h=M||N(e)?2:1),e._a=void 0,t)throw t.error})},N=function e(t){if(1==t._h)return!1;for(var n,o=t._a||t._c,r=0;o.length>r;)if((n=o[r++]).fail||!e(n.promise))return!1;return!0},S=function(e){y.call(c,function(){var t;M?C.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},x=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),O(t,!0))},R=function e(t){var n,o=this;if(!o._d){o._d=!0,o=o._w||o;try{if(o===t)throw b("Promise can't be resolved itself");(n=A(t))?_(function(){var r={_w:o,_d:!1};try{n.call(t,l(e,r,1),l(x,r,1))}catch(e){x.call(r,e)}}):(o._v=t,o._s=1,O(o,!1))}catch(e){x.call({_w:o,_d:!1},e)}}};E||(g=function(e){h(this,g,v,"_h"),f(e),o.call(this);try{e(l(R,this,1),l(x,this,1))}catch(e){x.call(this,e)}},(o=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e("./_redefine-all")(g.prototype,{then:function(e,t){var n=T(p(this,g));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=M?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&O(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),w=function(){var e=new o;this.promise=e,this.resolve=l(R,e,1),this.reject=l(x,e,1)}),s(s.G+s.W+s.F*!E,{Promise:g}),e("./_set-to-string-tag")(g,v),e("./_set-species")(v),a=e("./_core")[v],s(s.S+s.F*!E,v,{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),s(s.S+s.F*(i||!E),v,{resolve:function(e){if(e instanceof g&&P(e.constructor,this))return e;var t=T(this);return(0,t.resolve)(e),t.promise}}),s(s.S+s.F*!(E&&e("./_iter-detect")(function(e){g.all(e).catch(k)})),v,{all:function(e){var t=this,n=T(t),o=n.resolve,r=n.reject,a=D(function(){var n=[],a=0,i=1;m(e,!1,function(e){var c=a++,l=!1;n.push(void 0),i++,t.resolve(e).then(function(e){l||(l=!0,n[c]=e,--i||o(n))},r)}),--i||o(n)});return a&&r(a.error),n.promise},race:function(e){var t=this,n=T(t),o=n.reject,r=D(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,o)})});return r&&o(r.error),n.promise}})},{"./_a-function":4,"./_an-instance":6,"./_classof":13,"./_core":18,"./_ctx":19,"./_export":24,"./_for-of":26,"./_global":27,"./_is-object":36,"./_iter-detect":40,"./_library":43,"./_microtask":45,"./_redefine-all":53,"./_set-species":55,"./_set-to-string-tag":56,"./_species-constructor":59,"./_task":61,"./_wks":69}],75:[function(e,t,n){var o=e("./_collection-strong");t.exports=e("./_collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return o.def(this,e=0===e?0:e,e)}},o)},{"./_collection":17,"./_collection-strong":15}],76:[function(e,t,n){var o=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=o(t,n),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":39,"./_string-at":60}],77:[function(e,t,n){var o=e("./_export");o(o.P+o.R,"Map",{toJSON:e("./_collection-to-json")("Map")})},{"./_collection-to-json":16,"./_export":24}],78:[function(e,t,n){var o=e("./_export");o(o.P+o.R,"Set",{toJSON:e("./_collection-to-json")("Set")})},{"./_collection-to-json":16,"./_export":24}],79:[function(e,t,n){e("./es6.array.iterator");for(var o=e("./_global"),r=e("./_hide"),a=e("./_iterators"),i=e("./_wks")("toStringTag"),c=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var u=c[l],s=o[u],d=s&&s.prototype;d&&!d[i]&&r(d,i,u),a[u]=a.Array}},{"./_global":27,"./_hide":29,"./_iterators":42,"./_wks":69,"./es6.array.iterator":71}],80:[function(e,t,n){function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}t.exports=o,o.prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},o.prototype.once=function(e,t){var n=this;function o(){n.off(e,o),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},o.fn=t,this.on(e,o),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks[e];if(!o)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r=0;r<o.length;r++)if((n=o[r])===t||n.fn===t){o.splice(r,1);break}return this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var o=0,r=(n=n.slice(0)).length;o<r;++o)n[o].apply(this,t);return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],81:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};n.default=o,o.QUALIFIER_PROPERTY="qualifier",o.VALUE="value"},{}],82:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=e("../bower_components/core.js/library/fn/map"),i=(o=a)&&o.__esModule?o:{default:o},c=e("./utils");var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,c.checkMethod)("BeanManager(classRepository)"),(0,c.checkParam)(t,"classRepository"),this.classRepository=t,this.addedHandlers=new i.default,this.removedHandlers=new i.default,this.updatedHandlers=new i.default,this.arrayUpdatedHandlers=new i.default,this.allAddedHandlers=[],this.allRemovedHandlers=[],this.allUpdatedHandlers=[],this.allArrayUpdatedHandlers=[];var n=this;this.classRepository.onBeanAdded(function(e,t){var o=n.addedHandlers.get(e);(0,c.exists)(o)&&o.forEach(function(n){try{n(t)}catch(t){console.warn("An exception occurred while calling an onBeanAdded-handler for type",e,t)}}),n.allAddedHandlers.forEach(function(e){try{e(t)}catch(e){console.warn("An exception occurred while calling a general onBeanAdded-handler",e)}})}),this.classRepository.onBeanRemoved(function(e,t){var o=n.removedHandlers.get(e);(0,c.exists)(o)&&o.forEach(function(n){try{n(t)}catch(t){console.warn("An exception occurred while calling an onBeanRemoved-handler for type",e,t)}}),n.allRemovedHandlers.forEach(function(e){try{e(t)}catch(e){console.warn("An exception occurred while calling a general onBeanRemoved-handler",e)}})}),this.classRepository.onBeanUpdate(function(e,t,o,r,a){var i=n.updatedHandlers.get(e);(0,c.exists)(i)&&i.forEach(function(n){try{n(t,o,r,a)}catch(t){console.warn("An exception occurred while calling an onBeanUpdate-handler for type",e,t)}}),n.allUpdatedHandlers.forEach(function(e){try{e(t,o,r,a)}catch(e){console.warn("An exception occurred while calling a general onBeanUpdate-handler",e)}})}),this.classRepository.onArrayUpdate(function(e,t,o,r,a,i){var l=n.arrayUpdatedHandlers.get(e);(0,c.exists)(l)&&l.forEach(function(n){try{n(t,o,r,a,i)}catch(t){console.warn("An exception occurred while calling an onArrayUpdate-handler for type",e,t)}}),n.allArrayUpdatedHandlers.forEach(function(e){try{e(t,o,r,a,i)}catch(e){console.warn("An exception occurred while calling a general onArrayUpdate-handler",e)}})})}return r(e,[{key:"notifyBeanChange",value:function(e,t,n){return(0,c.checkMethod)("BeanManager.notifyBeanChange(bean, propertyName, newValue)"),(0,c.checkParam)(e,"bean"),(0,c.checkParam)(t,"propertyName"),this.classRepository.notifyBeanChange(e,t,n)}},{key:"notifyArrayChange",value:function(e,t,n,o,r){(0,c.checkMethod)("BeanManager.notifyArrayChange(bean, propertyName, index, count, removedElements)"),(0,c.checkParam)(e,"bean"),(0,c.checkParam)(t,"propertyName"),(0,c.checkParam)(n,"index"),(0,c.checkParam)(o,"count"),(0,c.checkParam)(r,"removedElements"),this.classRepository.notifyArrayChange(e,t,n,o,r)}},{key:"isManaged",value:function(e){throw(0,c.checkMethod)("BeanManager.isManaged(bean)"),(0,c.checkParam)(e,"bean"),new Error("Not implemented yet")}},{key:"create",value:function(e){throw(0,c.checkMethod)("BeanManager.create(type)"),(0,c.checkParam)(e,"type"),new Error("Not implemented yet")}},{key:"add",value:function(e,t){throw(0,c.checkMethod)("BeanManager.add(type, bean)"),(0,c.checkParam)(e,"type"),(0,c.checkParam)(t,"bean"),new Error("Not implemented yet")}},{key:"addAll",value:function(e,t){throw(0,c.checkMethod)("BeanManager.addAll(type, collection)"),(0,c.checkParam)(e,"type"),(0,c.checkParam)(t,"collection"),new Error("Not implemented yet")}},{key:"remove",value:function(e){throw(0,c.checkMethod)("BeanManager.remove(bean)"),(0,c.checkParam)(e,"bean"),new Error("Not implemented yet")}},{key:"removeAll",value:function(e){throw(0,c.checkMethod)("BeanManager.removeAll(collection)"),(0,c.checkParam)(e,"collection"),new Error("Not implemented yet")}},{key:"removeIf",value:function(e){throw(0,c.checkMethod)("BeanManager.removeIf(predicate)"),(0,c.checkParam)(e,"predicate"),new Error("Not implemented yet")}},{key:"onAdded",value:function(e,t){var n=this;if((0,c.exists)(t)){(0,c.checkMethod)("BeanManager.onAdded(type, eventHandler)"),(0,c.checkParam)(e,"type"),(0,c.checkParam)(t,"eventHandler");var o=n.addedHandlers.get(e);return(0,c.exists)(o)||(o=[]),n.addedHandlers.set(e,o.concat(t)),{unsubscribe:function(){var o=n.addedHandlers.get(e);(0,c.exists)(o)&&n.addedHandlers.set(e,o.filter(function(e){return e!==t}))}}}return t=e,(0,c.checkMethod)("BeanManager.onAdded(eventHandler)"),(0,c.checkParam)(t,"eventHandler"),n.allAddedHandlers=n.allAddedHandlers.concat(t),{unsubscribe:function(){n.allAddedHandlers=n.allAddedHandlers.filter(function(e){return e!==t})}}}},{key:"onRemoved",value:function(e,t){var n=this;if((0,c.exists)(t)){(0,c.checkMethod)("BeanManager.onRemoved(type, eventHandler)"),(0,c.checkParam)(e,"type"),(0,c.checkParam)(t,"eventHandler");var o=n.removedHandlers.get(e);return(0,c.exists)(o)||(o=[]),n.removedHandlers.set(e,o.concat(t)),{unsubscribe:function(){var o=n.removedHandlers.get(e);(0,c.exists)(o)&&n.removedHandlers.set(e,o.filter(function(e){return e!==t}))}}}return t=e,(0,c.checkMethod)("BeanManager.onRemoved(eventHandler)"),(0,c.checkParam)(t,"eventHandler"),n.allRemovedHandlers=n.allRemovedHandlers.concat(t),{unsubscribe:function(){n.allRemovedHandlers=n.allRemovedHandlers.filter(function(e){return e!==t})}}}},{key:"onBeanUpdate",value:function(e,t){var n=this;if((0,c.exists)(t)){(0,c.checkMethod)("BeanManager.onBeanUpdate(type, eventHandler)"),(0,c.checkParam)(e,"type"),(0,c.checkParam)(t,"eventHandler");var o=n.updatedHandlers.get(e);return(0,c.exists)(o)||(o=[]),n.updatedHandlers.set(e,o.concat(t)),{unsubscribe:function(){var o=n.updatedHandlers.get(e);(0,c.exists)(o)&&n.updatedHandlers.set(e,o.filter(function(e){return e!==t}))}}}return t=e,(0,c.checkMethod)("BeanManager.onBeanUpdate(eventHandler)"),(0,c.checkParam)(t,"eventHandler"),n.allUpdatedHandlers=n.allUpdatedHandlers.concat(t),{unsubscribe:function(){n.allUpdatedHandlers=n.allUpdatedHandlers.filter(function(e){return e!==t})}}}},{key:"onArrayUpdate",value:function(e,t){var n=this;if((0,c.exists)(t)){(0,c.checkMethod)("BeanManager.onArrayUpdate(type, eventHandler)"),(0,c.checkParam)(e,"type"),(0,c.checkParam)(t,"eventHandler");var o=n.arrayUpdatedHandlers.get(e);return(0,c.exists)(o)||(o=[]),n.arrayUpdatedHandlers.set(e,o.concat(t)),{unsubscribe:function(){var o=n.arrayUpdatedHandlers.get(e);(0,c.exists)(o)&&n.arrayUpdatedHandlers.set(e,o.filter(function(e){return e!==t}))}}}return t=e,(0,c.checkMethod)("BeanManager.onArrayUpdate(eventHandler)"),(0,c.checkParam)(t,"eventHandler"),n.allArrayUpdatedHandlers=n.allArrayUpdatedHandlers.concat(t),{unsubscribe:function(){n.allArrayUpdatedHandlers=n.allArrayUpdatedHandlers.filter(function(e){return e!==t})}}}}]),e}();n.default=l},{"../bower_components/core.js/library/fn/map":1,"./utils":121}],83:[function(e,t,n){var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)};Object.defineProperty(n,"__esModule",{value:!0});var i,c="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=e("../bower_components/core.js/library/fn/map"),s=(i=u)&&i.__esModule?i:{default:i},d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("./constants")),f=e("./utils");var h=null,m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,f.checkMethod)("ClassRepository(dolphin)"),(0,f.checkParam)(t,"dolphin"),this.dolphin=t,this.classes=new s.default,this.beanFromDolphin=new s.default,this.beanToDolphin=new s.default,this.classInfos=new s.default,this.beanAddedHandlers=[],this.beanRemovedHandlers=[],this.propertyUpdateHandlers=[],this.arrayUpdateHandlers=[]}return l(e,[{key:"fixType",value:function(e,t){switch(e){case d.BYTE:case d.SHORT:case d.INT:case d.LONG:return parseInt(t);case d.FLOAT:case d.DOUBLE:return parseFloat(t);case d.BOOLEAN:return"true"===String(t).toLowerCase();case d.STRING:case d.ENUM:return String(t);default:return t}}},{key:"fromDolphin",value:function(e,t,n){if(!(0,f.exists)(n))return null;switch(t){case d.DOLPHIN_BEAN:return e.beanFromDolphin.get(String(n));case d.DATE:case d.CALENDAR:case d.LOCAL_DATE_FIELD_TYPE:case d.LOCAL_DATE_TIME_FIELD_TYPE:case d.ZONED_DATE_TIME_FIELD_TYPE:return new Date(String(n));default:return this.fixType(t,n)}}},{key:"toDolphin",value:function(e,t,n){if(!(0,f.exists)(n))return null;switch(t){case d.DOLPHIN_BEAN:return e.beanToDolphin.get(n);case d.DATE:case d.CALENDAR:case d.LOCAL_DATE_FIELD_TYPE:case d.LOCAL_DATE_TIME_FIELD_TYPE:case d.ZONED_DATE_TIME_FIELD_TYPE:return n instanceof Date?n.toISOString():n;default:return this.fixType(t,n)}}},{key:"sendListSplice",value:function(e,t,n,o,r,a){var i=e.dolphin,c=i.findPresentationModelById(t),l=this;if((0,f.exists)(c)){var u=e.classes.get(c.presentationModelType)[n];if((0,f.exists)(u)){var s=[i.attribute("@@@ SOURCE_SYSTEM @@@",null,"client"),i.attribute("source",null,t),i.attribute("attribute",null,n),i.attribute("from",null,o),i.attribute("to",null,r),i.attribute("count",null,a.length)];a.forEach(function(t,n){s.push(i.attribute(n.toString(),null,l.toDolphin(e,u,t)))}),i.presentationModel.apply(i,[null,"@DP:LS@"].concat(s))}}}},{key:"validateList",value:function(e,t,n,o){var r=n[o];(0,f.exists)(r)||e.propertyUpdateHandlers.forEach(function(e){try{e(t,n,o,[],void 0)}catch(e){console.warn("An exception occurred while calling an onBeanUpdate-handler",e)}})}},{key:"block",value:function(e,t){if((0,f.exists)(h))throw new Error("Trying to create a block while another block exists");h={bean:e,propertyName:t}}},{key:"isBlocked",value:function(e,t){return(0,f.exists)(h)&&h.bean===e&&h.propertyName===t}},{key:"unblock",value:function(){h=null}},{key:"notifyBeanChange",value:function(e,t,n){(0,f.checkMethod)("ClassRepository.notifyBeanChange(bean, propertyName, newValue)"),(0,f.checkParam)(e,"bean"),(0,f.checkParam)(t,"propertyName");var o=this.beanToDolphin.get(e);if((0,f.exists)(o)){var r=this.dolphin.findPresentationModelById(o);if((0,f.exists)(r)){var a=this.classes.get(r.presentationModelType)[t],i=r.findAttributeByPropertyName(t);if((0,f.exists)(a)&&(0,f.exists)(i)){var c=i.getValue();return i.setValue(this.toDolphin(this,a,n)),this.fromDolphin(this,a,c)}}}}},{key:"notifyArrayChange",value:function(e,t,n,o,r){if((0,f.checkMethod)("ClassRepository.notifyArrayChange(bean, propertyName, index, count, removedElements)"),(0,f.checkParam)(e,"bean"),(0,f.checkParam)(t,"propertyName"),(0,f.checkParam)(n,"index"),(0,f.checkParam)(o,"count"),(0,f.checkParam)(r,"removedElements"),!this.isBlocked(e,t)){var a=this.beanToDolphin.get(e),i=e[t];if((0,f.exists)(a)&&(0,f.exists)(i)){var c=Array.isArray(r)?r.length:0;this.sendListSplice(this,a,t,n,n+c,i.slice(n,n+o))}}}},{key:"onBeanAdded",value:function(e){(0,f.checkMethod)("ClassRepository.onBeanAdded(handler)"),(0,f.checkParam)(e,"handler"),this.beanAddedHandlers.push(e)}},{key:"onBeanRemoved",value:function(e){(0,f.checkMethod)("ClassRepository.onBeanRemoved(handler)"),(0,f.checkParam)(e,"handler"),this.beanRemovedHandlers.push(e)}},{key:"onBeanUpdate",value:function(e){(0,f.checkMethod)("ClassRepository.onBeanUpdate(handler)"),(0,f.checkParam)(e,"handler"),this.propertyUpdateHandlers.push(e)}},{key:"onArrayUpdate",value:function(e){(0,f.checkMethod)("ClassRepository.onArrayUpdate(handler)"),(0,f.checkParam)(e,"handler"),this.arrayUpdateHandlers.push(e)}},{key:"registerClass",value:function(e){if((0,f.checkMethod)("ClassRepository.registerClass(model)"),(0,f.checkParam)(e,"model"),!this.classes.has(e.id)){var t={};e.attributes.filter(function(e){return e.propertyName.search(/^@/)<0}).forEach(function(e){t[e.propertyName]=e.value}),this.classes.set(e.id,t)}}},{key:"unregisterClass",value:function(e){(0,f.checkMethod)("ClassRepository.unregisterClass(model)"),(0,f.checkParam)(e,"model"),this.classes.delete(e.id)}},{key:"load",value:function(e){(0,f.checkMethod)("ClassRepository.load(model)"),(0,f.checkParam)(e,"model");var t=this,n=this.classes.get(e.presentationModelType),o={};return e.attributes.filter(function(e){return e.propertyName.search(/^@/)<0}).forEach(function(r){o[r.propertyName]=null,r.onValueChange(function(a){if(a.oldValue!==a.newValue){var i=t.fromDolphin(t,n[r.propertyName],a.oldValue),c=t.fromDolphin(t,n[r.propertyName],a.newValue);t.propertyUpdateHandlers.forEach(function(t){try{t(e.presentationModelType,o,r.propertyName,c,i)}catch(e){console.warn("An exception occurred while calling an onBeanUpdate-handler",e)}})}})}),this.beanFromDolphin.set(e.id,o),this.beanToDolphin.set(o,e.id),this.classInfos.set(e.id,n),this.beanAddedHandlers.forEach(function(t){try{t(e.presentationModelType,o)}catch(e){console.warn("An exception occurred while calling an onBeanAdded-handler",e)}}),o}},{key:"unload",value:function(e){(0,f.checkMethod)("ClassRepository.unload(model)"),(0,f.checkParam)(e,"model");var t=this.beanFromDolphin.get(e.id);return this.beanFromDolphin.delete(e.id),this.beanToDolphin.delete(t),this.classInfos.delete(e.id),(0,f.exists)(t)&&this.beanRemovedHandlers.forEach(function(n){try{n(e.presentationModelType,t)}catch(e){console.warn("An exception occurred while calling an onBeanRemoved-handler",e)}}),t}},{key:"spliceListEntry",value:function(e){(0,f.checkMethod)("ClassRepository.spliceListEntry(model)"),(0,f.checkParam)(e,"model");var t=e.findAttributeByPropertyName("source"),n=e.findAttributeByPropertyName("attribute"),o=e.findAttributeByPropertyName("from"),r=e.findAttributeByPropertyName("to"),a=e.findAttributeByPropertyName("count");if(!((0,f.exists)(t)&&(0,f.exists)(n)&&(0,f.exists)(o)&&(0,f.exists)(r)&&(0,f.exists)(a)))throw new Error("Invalid list modification update received");var i=this.classInfos.get(t.value),c=this.beanFromDolphin.get(t.value);if(!(0,f.exists)(c)||!(0,f.exists)(i))throw new Error("Invalid list modification update received. Source bean unknown.");var l=e.presentationModelType;this.validateList(this,l,c,n.value);for(var u=[],s=null,d=0;d<a.value;d++){if(s=e.findAttributeByPropertyName(d.toString()),!(0,f.exists)(s))throw new Error("Invalid list modification update received");u.push(this.fromDolphin(this,i[n.value],s.value))}try{this.block(c,n.value),this.arrayUpdateHandlers.forEach(function(e){try{e(l,c,n.value,o.value,r.value-o.value,u)}catch(e){console.warn("An exception occurred while calling an onArrayUpdate-handler",e)}})}finally{this.unblock()}}},{key:"mapParamToDolphin",value:function(e){if(!(0,f.exists)(e))return e;var t=void 0===e?"undefined":c(e);if("object"===t){if(e instanceof Date)return e.toISOString();var n=this.beanToDolphin.get(e);if((0,f.exists)(n))return n;throw new TypeError("Only managed Dolphin Beans can be used")}if("string"===t||"number"===t||"boolean"===t)return e;throw new TypeError("Only managed Dolphin Beans and primitive types can be used")}},{key:"mapDolphinToBean",value:function(e){return this.fromDolphin(this,d.DOLPHIN_BEAN,e)}}]),e}();n.default=m},{"../bower_components/core.js/library/fn/map":1,"./constants":110,"./utils":121}],84:[function(e,t,n){var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)};Object.defineProperty(n,"__esModule",{value:!0});var i,c="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=e("./eventBus"),s=(i=u)&&i.__esModule?i:{default:i};var d=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.propertyName=t,this.id=e.clientAttributeInstanceCount+++"C",this.valueChangeBus=new s.default,this.qualifierChangeBus=new s.default,this.setValue(o),this.setQualifier(n)}return l(e,[{key:"copy",value:function(){return new e(this.propertyName,this.getQualifier(),this.getValue())}},{key:"setPresentationModel",value:function(e){if(this.presentationModel)throw new Error("You can not set a presentation model for an attribute that is already bound.");this.presentationModel=e}},{key:"getPresentationModel",value:function(){return this.presentationModel}},{key:"getValue",value:function(){return this.value}},{key:"setValueFromServer",value:function(t){var n=e.checkValue(t);if(this.value!=n){var o=this.value;this.value=n,this.valueChangeBus.trigger({oldValue:o,newValue:n,sendToServer:!1})}}},{key:"setValue",value:function(t){var n=e.checkValue(t);if(this.value!=n){var o=this.value;this.value=n,this.valueChangeBus.trigger({oldValue:o,newValue:n,sendToServer:!0})}}},{key:"setQualifier",value:function(e){if(this.qualifier!=e){var t=this.qualifier;this.qualifier=e,this.qualifierChangeBus.trigger({oldValue:t,newValue:e}),this.valueChangeBus.trigger({oldValue:this.value,newValue:this.value,sendToServer:!1})}}},{key:"getQualifier",value:function(){return this.qualifier}},{key:"onValueChange",value:function(e){this.valueChangeBus.onEvent(e),e({oldValue:this.value,newValue:this.value,sendToServer:!1})}},{key:"onQualifierChange",value:function(e){this.qualifierChangeBus.onEvent(e)}},{key:"syncWith",value:function(e){e&&(this.setQualifier(e.getQualifier()),this.setValue(e.value))}}],[{key:"checkValue",value:function(t){if(null==t||null==t)return null;var n=t;(n instanceof String||n instanceof Boolean||n instanceof Number)&&(n=t.valueOf()),n instanceof e&&(console.log("An Attribute may not itself contain an attribute as a value. Assuming you forgot to call value."),n=this.checkValue(t.value));var o=!1;if((this.SUPPORTED_VALUE_TYPES.indexOf(void 0===n?"undefined":c(n))>-1||n instanceof Date)&&(o=!0),!o)throw new Error("Attribute values of this type are not allowed: "+(void 0===t?"undefined":c(t)));return n}}]),e}();n.default=d,d.SUPPORTED_VALUE_TYPES=["string","number","boolean"],d.clientAttributeInstanceCount=0},{"./eventBus":115}],85:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(e("./commandBatcher")),a=c(e("./commands/codec")),i=c(e("./clientPresentationModel"));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.commandQueue=[],this.currentlySending=!1,this.pushEnabled=!1,this.waiting=!1,this.transmitter=t,this.clientDolphin=n,this.slackMS=o,this.codec=new a.default,this.commandBatcher=new r.default(!0,i)}return o(e,[{key:"setCommandBatcher",value:function(e){this.commandBatcher=e}},{key:"setPushEnabled",value:function(e){this.pushEnabled=e}},{key:"setPushListener",value:function(e){this.pushListener=e}},{key:"setReleaseCommand",value:function(e){this.releaseCommand=e}},{key:"send",value:function(e,t){this.commandQueue.push({command:e,handler:t}),this.currentlySending?this.release():this.doSendNext()}},{key:"doSendNext",value:function(){var e=this;if(this.commandQueue.length<1){if(!this.pushEnabled)return void(this.currentlySending=!1);this.enqueuePushCommand()}this.currentlySending=!0;var t=this.commandBatcher.batch(this.commandQueue);if(t.length>0){var n=t[t.length-1].handler,o=t.map(function(e){return e.command});this.transmitter.transmit(o,function(t){var o=[];t.forEach(function(t){var n=e.handle(t);n&&o.push(n)}),n&&n.onFinished(o),setTimeout(function(){return e.doSendNext()},e.slackMS)})}else setTimeout(function(){return e.doSendNext()},this.slackMS)}},{key:"handle",value:function(e){return"DeletePresentationModel"==e.id?this.handleDeletePresentationModelCommand(e):"CreatePresentationModel"==e.id?this.handleCreatePresentationModelCommand(e):"ValueChanged"==e.id?this.handleValueChangedCommand(e):"AttributeMetadataChanged"==e.id?this.handleAttributeMetadataChangedCommand(e):(console.log("Cannot handle, unknown command "+e),null)}},{key:"handleDeletePresentationModelCommand",value:function(e){var t=this.clientDolphin.findPresentationModelById(e.pmId);return t?(this.clientDolphin.getClientModelStore().deletePresentationModel(t,!0),t):null}},{key:"handleCreatePresentationModelCommand",value:function(e){var t=this;if(this.clientDolphin.getClientModelStore().containsPresentationModel(e.pmId))throw new Error("There already is a presentation model with id "+e.pmId+"  known to the client.");var n=[];e.attributes.forEach(function(e){var o=t.clientDolphin.attribute(e.propertyName,e.qualifier,e.value);e.id&&e.id.match(".*S$")&&(o.id=e.id),n.push(o)});var o=new i.default(e.pmId,e.pmType);return o.addAttributes(n),e.clientSideOnly&&(o.clientSideOnly=!0),this.clientDolphin.getClientModelStore().add(o,!1),this.clientDolphin.updatePresentationModelQualifier(o),o}},{key:"handleValueChangedCommand",value:function(e){var t=this.clientDolphin.getClientModelStore().findAttributeById(e.attributeId);return t?t.getValue()==e.newValue?null:(t.setValueFromServer(e.newValue),null):(console.log("attribute with id "+e.attributeId+" not found, cannot update to new value "+e.newValue),null)}},{key:"handleAttributeMetadataChangedCommand",value:function(e){var t=this.clientDolphin.getClientModelStore().findAttributeById(e.attributeId);return t?(t[e.metadataName]=e.value,null):null}},{key:"listen",value:function(){this.pushEnabled&&(this.waiting||this.currentlySending||this.doSendNext())}},{key:"enqueuePushCommand",value:function(){var e=this;this.waiting=!0,this.commandQueue.push({command:this.pushListener,handler:{onFinished:function(){e.waiting=!1},onFinishedData:null}})}},{key:"release",value:function(){this.waiting&&(this.waiting=!1,this.transmitter.signal(this.releaseCommand))}}]),e}();n.default=l},{"./clientPresentationModel":89,"./commandBatcher":91,"./commands/codec":92}],86:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("./openDolphin.js"),a=e("./utils"),i=f(e("./connector")),c=f(e("./beanmanager")),l=f(e("./classrepo")),u=f(e("./controllermanager")),s=f(e("./clientcontext")),d=f(e("./platformHttpTransmitter"));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"create",value:function(e,t){(0,a.checkMethod)("connect(url, config)"),(0,a.checkParam)(e,"url"),console.log("Creating client context "+e+"    "+JSON.stringify(t));var n=(0,r.makeDolphin)().url(e).reset(!1).slackMS(4).supportCORS(!0).maxBatchSize(Number.MAX_SAFE_INTEGER);(0,a.exists)(t)&&((0,a.exists)(t.errorHandler)&&n.errorHandler(t.errorHandler),(0,a.exists)(t.headersInfo)&&Object.keys(t.headersInfo).length>0&&n.headersInfo(t.headersInfo));var o=n.build(),f=new d.default(e,t);f.on("error",function(e){_.emit("error",e)}),o.clientConnector.transmitter=f;var h=new l.default(o),m=new c.default(h),p=new i.default(e,o,h,t),y=new u.default(o,h,p),_=new s.default(o,m,y,p);return _}}]),e}();n.default=h,n.ClientContextFactory=h},{"./beanmanager":82,"./classrepo":83,"./clientcontext":90,"./connector":109,"./controllermanager":111,"./openDolphin.js":118,"./platformHttpTransmitter":119,"./utils":121}],87:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(e("./clientAttribute")),a=i(e("./clientPresentationModel"));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"setClientConnector",value:function(e){this.clientConnector=e}},{key:"getClientConnector",value:function(){return this.clientConnector}},{key:"send",value:function(e,t){this.clientConnector.send(e,t)}},{key:"attribute",value:function(e,t,n){return new r.default(e,t,n)}},{key:"presentationModel",value:function(e,t){for(var n=new a.default(e,t),o=arguments.length,r=Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];return r&&r.length>0&&r.forEach(function(e){n.addAttribute(e)}),this.getClientModelStore().add(n,!0),n}},{key:"setClientModelStore",value:function(e){this.clientModelStore=e}},{key:"getClientModelStore",value:function(){return this.clientModelStore}},{key:"listPresentationModelIds",value:function(){return this.getClientModelStore().listPresentationModelIds()}},{key:"listPresentationModels",value:function(){return this.getClientModelStore().listPresentationModels()}},{key:"findAllPresentationModelByType",value:function(e){return this.getClientModelStore().findAllPresentationModelByType(e)}},{key:"getAt",value:function(e){return this.findPresentationModelById(e)}},{key:"findPresentationModelById",value:function(e){return this.getClientModelStore().findPresentationModelById(e)}},{key:"deletePresentationModel",value:function(e){this.getClientModelStore().deletePresentationModel(e,!0)}},{key:"updatePresentationModelQualifier",value:function(e){var t=this;e.getAttributes().forEach(function(e){t.updateAttributeQualifier(e)})}},{key:"updateAttributeQualifier",value:function(e){e.getQualifier()&&this.getClientModelStore().findAllAttributesByQualifier(e.getQualifier()).forEach(function(t){t.setValue(e.getValue())})}},{key:"startPushListening",value:function(e,t){var n=this;this.clientConnector.setPushListener(e),this.clientConnector.setReleaseCommand(t),this.clientConnector.setPushEnabled(!0),setTimeout(function(){n.clientConnector.listen()},0)}},{key:"stopPushListening",value:function(){this.clientConnector.setPushEnabled(!1)}}]),e}();n.default=c},{"./clientAttribute":84,"./clientPresentationModel":89}],88:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=l(e("./attribute")),a=l(e("./eventBus")),i=l(e("./commands/commandFactory")),c=e("./constants");function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clientDolphin=t,this.presentationModels=new Map,this.presentationModelsPerType=new Map,this.attributesPerId=new Map,this.attributesPerQualifier=new Map,this.modelStoreChangeBus=new a.default}return o(e,[{key:"getClientDolphin",value:function(){return this.clientDolphin}},{key:"registerAttribute",value:function(e){var t=this;this.addAttributeById(e),e.getQualifier()&&this.addAttributeByQualifier(e),e.onValueChange(function(n){if(n.newValue!=n.oldValue&&1==n.sendToServer){var o=i.default.createValueChangedCommand(e.id,n.newValue);t.clientDolphin.getClientConnector().send(o,null)}e.getQualifier()&&t.findAttributesByFilter(function(t){return t!==e&&t.getQualifier()==e.getQualifier()}).forEach(function(t){t.setValue(e.getValue())})}),e.onQualifierChange(function(n){t.clientDolphin.getClientConnector().send(i.default.createChangeAttributeMetadataCommand(e.id,r.default.QUALIFIER_PROPERTY,n.newValue),null)})}},{key:"add",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return!1;this.presentationModels.has(e.id)&&console.log("There already is a PM with id "+e.id);var o=!1;if(!this.presentationModels.has(e.id)){if(this.presentationModels.set(e.id,e),this.addPresentationModelByType(e),n)this.clientDolphin.getClientConnector().send(i.default.createCreatePresentationModelCommand(e),null);e.getAttributes().forEach(function(e){t.registerAttribute(e)}),this.modelStoreChangeBus.trigger({eventType:c.ADDED_TYPE,clientPresentationModel:e}),o=!0}return o}},{key:"remove",value:function(e){var t=this;if(!e)return!1;var n=!1;return this.presentationModels.has(e.id)&&(this.removePresentationModelByType(e),this.presentationModels.delete(e.id),e.getAttributes().forEach(function(e){t.removeAttributeById(e),e.getQualifier()&&t.removeAttributeByQualifier(e)}),this.modelStoreChangeBus.trigger({eventType:c.REMOVED_TYPE,clientPresentationModel:e}),n=!0),n}},{key:"findAttributesByFilter",value:function(e){var t=[];return this.presentationModels.forEach(function(n){n.getAttributes().forEach(function(n){e(n)&&t.push(n)})}),t}},{key:"addPresentationModelByType",value:function(e){if(e){var t=e.presentationModelType;if(t){var n=this.presentationModelsPerType.get(t);n||(n=[],this.presentationModelsPerType.set(t,n)),n.indexOf(e)>-1||n.push(e)}}}},{key:"removePresentationModelByType",value:function(e){if(e&&e.presentationModelType){var t=this.presentationModelsPerType.get(e.presentationModelType);t&&(t.length>-1&&t.splice(t.indexOf(e),1),0===t.length&&this.presentationModelsPerType.delete(e.presentationModelType))}}},{key:"listPresentationModelIds",value:function(){for(var e=[],t=this.presentationModels.keys(),n=t.next();!n.done;)e.push(n.value),n=t.next();return e}},{key:"listPresentationModels",value:function(){for(var e=[],t=this.presentationModels.values(),n=t.next();!n.done;)e.push(n.value),n=t.next();return e}},{key:"findPresentationModelById",value:function(e){return this.presentationModels.get(e)}},{key:"findAllPresentationModelByType",value:function(e){return e&&this.presentationModelsPerType.has(e)?this.presentationModelsPerType.get(e).slice(0):[]}},{key:"deletePresentationModel",value:function(e,t){if(e&&this.containsPresentationModel(e.id)){if(this.remove(e),!t||e.clientSideOnly)return;this.clientDolphin.getClientConnector().send(i.default.createPresentationModelDeletedCommand(e.id),null)}}},{key:"containsPresentationModel",value:function(e){return this.presentationModels.has(e)}},{key:"addAttributeById",value:function(e){e&&!this.attributesPerId.has(e.id)&&this.attributesPerId.set(e.id,e)}},{key:"removeAttributeById",value:function(e){e&&this.attributesPerId.has(e.id)&&this.attributesPerId.delete(e.id)}},{key:"findAttributeById",value:function(e){return this.attributesPerId.get(e)}},{key:"addAttributeByQualifier",value:function(e){if(e&&e.getQualifier()){var t=this.attributesPerQualifier.get(e.getQualifier());t||(t=[],this.attributesPerQualifier.set(e.getQualifier(),t)),t.indexOf(e)>-1||t.push(e)}}},{key:"removeAttributeByQualifier",value:function(e){if(e&&e.getQualifier()){var t=this.attributesPerQualifier.get(e.getQualifier());t&&(t.length>-1&&t.splice(t.indexOf(e),1),0===t.length&&this.attributesPerQualifier.delete(e.getQualifier()))}}},{key:"findAllAttributesByQualifier",value:function(e){return e&&this.attributesPerQualifier.has(e)?this.attributesPerQualifier.get(e).slice(0):[]}},{key:"onModelStoreChange",value:function(e){this.modelStoreChangeBus.onEvent(e)}},{key:"onModelStoreChangeForType",value:function(e,t){this.modelStoreChangeBus.onEvent(function(n){n.clientPresentationModel.presentationModelType==e&&t(n)})}}]),e}();n.default=u},{"./attribute":81,"./commands/commandFactory":95,"./constants":110,"./eventBus":115}],89:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=e("./eventBus"),i=(o=a)&&o.__esModule?o:{default:o};var c=0,l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.presentationModelType=n,this.attributes=[],this.clientSideOnly=!1,this.dirty=!1,this.id=void 0!==t&&null!=t?t:(c++).toString(),this.invalidBus=new i.default,this.dirtyValueChangeBus=new i.default}return r(e,[{key:"copy",value:function(){var t=new e(null,this.presentationModelType);return t.clientSideOnly=!0,this.getAttributes().forEach(function(e){var n=e.copy();t.addAttribute(n)}),t}},{key:"addAttributes",value:function(e){var t=this;!e||e.length<1||e.forEach(function(e){t.addAttribute(e)})}},{key:"addAttribute",value:function(e){var t=this;if(e&&!(this.attributes.indexOf(e)>-1)){if(this.findAttributeByPropertyName(e.propertyName))throw new Error("There already is an attribute with property name: "+e.propertyName+" in presentation model with id: "+this.id);if(e.getQualifier()&&this.findAttributeByQualifier(e.getQualifier()))throw new Error("There already is an attribute with qualifier: "+e.getQualifier()+" in presentation model with id: "+this.id);e.setPresentationModel(this),this.attributes.push(e),e.onValueChange(function(){t.invalidBus.trigger({source:t})})}}},{key:"onInvalidated",value:function(e){this.invalidBus.onEvent(e)}},{key:"getAttributes",value:function(){return this.attributes.slice(0)}},{key:"getAt",value:function(e){return this.findAttributeByPropertyName(e)}},{key:"findAllAttributesByPropertyName",value:function(e){var t=[];return e?(this.attributes.forEach(function(n){n.propertyName==e&&t.push(n)}),t):null}},{key:"findAttributeByPropertyName",value:function(e){if(!e)return null;for(var t=0;t<this.attributes.length;t++)if(this.attributes[t].propertyName==e)return this.attributes[t];return null}},{key:"findAttributeByQualifier",value:function(e){if(!e)return null;for(var t=0;t<this.attributes.length;t++)if(this.attributes[t].getQualifier()==e)return this.attributes[t];return null}},{key:"findAttributeById",value:function(e){if(!e)return null;for(var t=0;t<this.attributes.length;t++)if(this.attributes[t].id==e)return this.attributes[t];return null}},{key:"syncWith",value:function(e){this.attributes.forEach(function(t){var n=e.getAt(t.propertyName);n&&t.syncWith(n)})}}]),e}();n.default=l},{"./eventBus":115}],90:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=l(e("emitter-component")),a=l(e("../bower_components/core.js/library/fn/promise")),i=l(e("./commands/commandFactory")),c=e("./utils");function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,c.checkMethod)("ClientContext(dolphin, beanManager, controllerManager, connector)"),(0,c.checkParam)(t,"dolphin"),(0,c.checkParam)(n,"beanManager"),(0,c.checkParam)(o,"controllerManager"),(0,c.checkParam)(r,"connector"),this.dolphin=t,this.beanManager=n,this._controllerManager=o,this._connector=r,this.connectionPromise=null,this.isConnected=!1}return o(e,[{key:"connect",value:function(){var e=this;return this.connectionPromise=new a.default(function(t){e._connector.connect(),e._connector.invoke(i.default.createCreateContextCommand()).then(function(){e.isConnected=!0,t()})}),this.connectionPromise}},{key:"onConnect",value:function(){return(0,c.exists)(this.connectionPromise)?this.isConnected?new a.default(function(e){e()}):this.connectionPromise:this.connect()}},{key:"createController",value:function(e){return(0,c.checkMethod)("ClientContext.createController(name)"),(0,c.checkParam)(e,"name"),this._controllerManager.createController(e)}},{key:"disconnect",value:function(){var e=this;return this.dolphin.stopPushListening(),new a.default(function(t){e._controllerManager.destroy().then(function(){e._connector.invoke(i.default.createDestroyContextCommand()),e.dolphin=null,e.beanManager=null,e._controllerManager=null,e._connector=null,t()})})}}]),e}();n.default=u,(0,r.default)(u.prototype)},{"../bower_components/core.js/library/fn/promise":2,"./commands/commandFactory":95,"./utils":121,"emitter-component":80}],91:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("./commands/commandConstants");var a=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.folding=t,this.maxBatchSize=n}return o(e,[{key:"batch",value:function(e){for(var t=[],n=0;e[n]&&n<=this.maxBatchSize;){var o=e[n];if(n++,this.folding?o.command.id==r.VALUE_CHANGED_COMMAND_ID&&t.length>0&&t[t.length-1].command.id==r.VALUE_CHANGED_COMMAND_ID&&o.command.attributeId==t[t.length-1].command.attributeId?t[t.length-1].command.newValue=o.command.newValue:o.command.id==r.PRESENTATION_MODEL_DELETED_COMMAND_ID||t.push(o):t.push(o),o.handler)break}return e.splice(0,n),t}}]),e}();n.default=a},{"./commands/commandConstants":94}],92:[function(e,t,n){var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)};Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=e("../utils"),u=e("../constants"),s=e("./commandConstants"),d=P(e("./impl/valueChangedCommand")),f=P(e("./impl/attributeMetadataChangedCommand")),h=P(e("./impl/callActionCommand")),m=P(e("./impl/changeAttributeMetadataCommand")),p=P(e("./impl/createContextCommand")),y=P(e("./impl/createControllerCommand")),_=P(e("./impl/createPresentationModelCommand")),v=P(e("./impl/deletePresentationModelCommand")),b=P(e("./impl/destroyContextCommand")),C=P(e("./impl/destroyControllerCommand")),g=P(e("./impl/interruptLongPollCommand")),M=P(e("./impl/presentationModelDeletedCommand")),k=P(e("./impl/startLongPollCommand")),E=P(e("./codecError"));function P(e){return e&&e.__esModule?e:{default:e}}var A=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return c(e,null,[{key:"_encodeAttributeMetadataChangedCommand",value:function(e){(0,l.checkMethod)("Codec.encodeAttributeMetadataChangedCommand"),(0,l.checkParam)(e,"command"),(0,l.checkParam)(e.attributeId,"command.attributeId"),(0,l.checkParam)(e.metadataName,"command.metadataName");var t={};return t[s.ID]=s.ATTRIBUTE_METADATA_CHANGED_COMMAND_ID,t[s.ATTRIBUTE_ID]=e.attributeId,t[s.NAME]=e.metadataName,t[s.VALUE]=e.value,t}},{key:"_decodeAttributeMetadataChangedCommand",value:function(e){(0,l.checkMethod)("Codec.decodeAttributeMetadataChangedCommand"),(0,l.checkParam)(e,"jsonCommand"),(0,l.checkParam)(e[s.ATTRIBUTE_ID],"jsonCommand[ATTRIBUTE_ID]"),(0,l.checkParam)(e[s.NAME],"jsonCommand[NAME]");var t=new f.default;return t.attributeId=e[s.ATTRIBUTE_ID],t.metadataName=e[s.NAME],t.value=e[s.VALUE],t}},{key:"_encodeCallActionCommand",value:function(e){(0,l.checkMethod)("Codec.encodeCallActionCommand"),(0,l.checkParam)(e,"command"),(0,l.checkParam)(e.controllerid,"command.controllerid"),(0,l.checkParam)(e.actionName,"command.actionName"),(0,l.checkParam)(e.params,"command.params");var t={};return t[s.ID]=s.CALL_ACTION_COMMAND_ID,t[s.CONTROLLER_ID]=e.controllerid,t[s.NAME]=e.actionName,t[s.PARAMS]=e.params.map(function(e){var t={};return t[s.NAME]=e.name,(0,l.exists)(e.value)&&(t[s.VALUE]=e.value),t}),t}},{key:"_decodeCallActionCommand",value:function(e){(0,l.checkMethod)("Codec.decodeCallActionCommand"),(0,l.checkParam)(e,"jsonCommand"),(0,l.checkParam)(e[s.CONTROLLER_ID],"jsonCommand[CONTROLLER_ID]"),(0,l.checkParam)(e[s.NAME],"jsonCommand[NAME]"),(0,l.checkParam)(e[s.PARAMS],"jsonCommand[PARAMS]");var t=new h.default;return t.controllerid=e[s.CONTROLLER_ID],t.actionName=e[s.NAME],t.params=e[s.PARAMS].map(function(e){return{name:e[s.NAME],value:(0,l.exists)(e[s.VALUE])?e[s.VALUE]:null}}),t}},{key:"_encodeChangeAttributeMetadataCommand",value:function(e){(0,l.checkMethod)("Codec.encodeChangeAttributeMetadataCommand"),(0,l.checkParam)(e,"command"),(0,l.checkParam)(e.attributeId,"command.attributeId"),(0,l.checkParam)(e.metadataName,"command.metadataName");var t={};return t[s.ID]=s.CHANGE_ATTRIBUTE_METADATA_COMMAND_ID,t[s.ATTRIBUTE_ID]=e.attributeId,t[s.NAME]=e.metadataName,t[s.VALUE]=e.value,t}},{key:"_decodeChangeAttributeMetadataCommand",value:function(e){(0,l.checkMethod)("Codec.decodeChangeAttributeMetadataCommand"),(0,l.checkParam)(e,"jsonCommand"),(0,l.checkParam)(e[s.ATTRIBUTE_ID],"jsonCommand[ATTRIBUTE_ID]"),(0,l.checkParam)(e[s.NAME],"jsonCommand[NAME]");var t=new m.default;return t.attributeId=e[s.ATTRIBUTE_ID],t.metadataName=e[s.NAME],t.value=e[s.VALUE],t}},{key:"_encodeCreateContextCommand",value:function(e){(0,l.checkMethod)("Codec.encodeCreateContextCommand"),(0,l.checkParam)(e,"command");var t={};return t[s.ID]=s.CREATE_CONTEXT_COMMAND_ID,t}},{key:"_decodeCreateContextCommand",value:function(e){return(0,l.checkMethod)("Codec.decodeCreateContextCommand"),(0,l.checkParam)(e,"jsonCommand"),new p.default}},{key:"_encodeCreateControllerCommand",value:function(e){(0,l.checkMethod)("Codec._encodeCreateControllerCommand"),(0,l.checkParam)(e,"command"),(0,l.checkParam)(e.controllerName,"command.controllerName");var t={};return t[s.ID]=s.CREATE_CONTROLLER_COMMAND_ID,t[s.NAME]=e.controllerName,t[s.CONTROLLER_ID]=e.parentControllerId,t}},{key:"_decodeCreateControllerCommand",value:function(e){(0,l.checkMethod)("Codec._decodeCreateControllerCommand"),(0,l.checkParam)(e,"jsonCommand"),(0,l.checkParam)(e[s.NAME],"jsonCommand[NAME]"),(0,l.checkParam)(e[s.CONTROLLER_ID],"jsonCommand[CONTROLLER_ID]");var t=new y.default;return t.controllerName=e[s.NAME],t.parentControllerId=e[s.CONTROLLER_ID],t}},{key:"_encodeCreatePresentationModelCommand",value:function(e){(0,l.checkMethod)("Codec.encodeCreatePresentationModelCommand"),(0,l.checkParam)(e,"command"),(0,l.checkParam)(e.pmId,"command.pmId"),(0,l.checkParam)(e.pmType,"command.pmType");var t={};return t[s.ID]=s.CREATE_PRESENTATION_MODEL_COMMAND_ID,t[s.PM_ID]=e.pmId,t[s.PM_TYPE]=e.pmType,t[s.PM_ATTRIBUTES]=e.attributes.map(function(e){var t={};return t[s.NAME]=e.propertyName,t[s.ATTRIBUTE_ID]=e.id,(0,l.exists)(e.value)&&(t[s.VALUE]=e.value),t}),t}},{key:"_decodeCreatePresentationModelCommand",value:function(e){(0,l.checkMethod)("Codec.decodeCreatePresentationModelCommand"),(0,l.checkParam)(e,"jsonCommand"),(0,l.checkParam)(e[s.PM_ID],"jsonCommand[PM_ID]"),(0,l.checkParam)(e[s.PM_TYPE],"jsonCommand[PM_TYPE]");var t=new _.default;return t.pmId=e[s.PM_ID],t.pmType=e[s.PM_TYPE],t.attributes=e[s.PM_ATTRIBUTES].map(function(e){return{propertyName:e[s.NAME],id:e[s.ATTRIBUTE_ID],value:(0,l.exists)(e[s.VALUE])?e[s.VALUE]:null}}),t}},{key:"_encodeDeletePresentationModelCommand",value:function(e){(0,l.checkMethod)("Codec._encodeDeletePresentationModelCommand"),(0,l.checkParam)(e,"command"),(0,l.checkParam)(e.pmId,"command.pmId");var t={};return t[s.ID]=s.DELETE_PRESENTATION_MODEL_COMMAND_ID,t[s.PM_ID]=e.pmId,t}},{key:"_decodeDeletePresentationModelCommand",value:function(e){(0,l.checkMethod)("Codec._decodeDeletePresentationModelCommand"),(0,l.checkParam)(e,"jsonCommand"),(0,l.checkParam)(e[s.PM_ID],"jsonCommand[PM_ID]");var t=new v.default;return t.pmId=e[s.PM_ID],t}},{key:"_encodeDestroyContextCommand",value:function(e){(0,l.checkMethod)("Codec._encodeDestroyContextCommand"),(0,l.checkParam)(e,"command");var t={};return t[s.ID]=s.DESTROY_CONTEXT_COMMAND_ID,t}},{key:"_decodeDestroyContextCommand",value:function(e){return(0,l.checkMethod)("Codec._decodeDestroyContextCommand"),(0,l.checkParam)(e,"jsonCommand"),new b.default}},{key:"_encodeDestroyControllerCommand",value:function(e){(0,l.checkMethod)("Codec._encodeDestroyControllerCommand"),(0,l.checkParam)(e,"command"),(0,l.checkParam)(e.controllerId,"command.controllerId");var t={};return t[s.ID]=s.DESTROY_CONTROLLER_COMMAND_ID,t[s.CONTROLLER_ID]=e.controllerId,t}},{key:"_decodeDestroyControllerCommand",value:function(e){(0,l.checkMethod)("Codec._decodeDestroyControllerCommand"),(0,l.checkParam)(e,"jsonCommand"),(0,l.checkParam)(e[s.CONTROLLER_ID],"jsonCommand[CONTROLLER_ID]");var t=new C.default;return t.controllerId=e[s.CONTROLLER_ID],t}},{key:"_encodeInterruptLongPollCommand",value:function(e){(0,l.checkMethod)("Codec._encodeInterruptLongPollCommand"),(0,l.checkParam)(e,"command");var t={};return t[s.ID]=s.INTERRUPT_LONG_POLL_COMMAND_ID,t}},{key:"_decodeInterruptLongPollCommand",value:function(e){return(0,l.checkMethod)("Codec._decodeInterruptLongPollCommand"),(0,l.checkParam)(e,"jsonCommand"),new g.default}},{key:"_encodePresentationModelDeletedCommand",value:function(e){(0,l.checkMethod)("Codec._encodePresentationModelDeletedCommand"),(0,l.checkParam)(e,"command"),(0,l.checkParam)(e.pmId,"command.pmId");var t={};return t[s.ID]=s.PRESENTATION_MODEL_DELETED_COMMAND_ID,t[s.PM_ID]=e.pmId,t}},{key:"_decodePresentationModelDeletedCommand",value:function(e){(0,l.checkMethod)("Codec._decodePresentationModelDeletedCommand"),(0,l.checkParam)(e,"jsonCommand"),(0,l.checkParam)(e[s.PM_ID],"jsonCommand[PM_ID]");var t=new M.default;return t.pmId=e[s.PM_ID],t}},{key:"_encodeStartLongPollCommand",value:function(e){(0,l.checkMethod)("Codec._encodeStartLongPollCommand"),(0,l.checkParam)(e,"command");var t={};return t[s.ID]=s.START_LONG_POLL_COMMAND_ID,t}},{key:"_decodeStartLongPollCommand",value:function(e){return(0,l.checkMethod)("Codec._decodeStartLongPollCommand"),(0,l.checkParam)(e,"jsonCommand"),new k.default}},{key:"_encodeValueChangedCommand",value:function(e){(0,l.checkMethod)("Codec.encodeValueChangedCommand"),(0,l.checkParam)(e,"command"),(0,l.checkParam)(e.attributeId,"command.attributeId");var t={};return t[s.ID]=s.VALUE_CHANGED_COMMAND_ID,t[s.ATTRIBUTE_ID]=e.attributeId,(0,l.exists)(e.newValue)&&(t[s.VALUE]=e.newValue),t}},{key:"_decodeValueChangedCommand",value:function(e){(0,l.checkMethod)("Codec.decodeValueChangedCommand"),(0,l.checkParam)(e,"jsonCommand"),(0,l.checkParam)(e[s.ATTRIBUTE_ID],"jsonCommand[ATTRIBUTE_ID]");var t=new d.default;return t.attributeId=e[s.ATTRIBUTE_ID],(0,l.exists)(e[s.VALUE])?t.newValue=e[s.VALUE]:t.newValue=null,t}},{key:"encode",value:function(e){(0,l.checkMethod)("Codec.encode"),(0,l.checkParam)(e,"commands");var t=this;return JSON.stringify(e.map(function(e){if(e.id===s.ATTRIBUTE_METADATA_CHANGED_COMMAND_ID)return t._encodeAttributeMetadataChangedCommand(e);if(e.id===s.CALL_ACTION_COMMAND_ID)return t._encodeCallActionCommand(e);if(e.id===s.CHANGE_ATTRIBUTE_METADATA_COMMAND_ID)return t._encodeChangeAttributeMetadataCommand(e);if(e.id===s.CREATE_CONTEXT_COMMAND_ID)return t._encodeCreateContextCommand(e);if(e.id===s.CREATE_CONTROLLER_COMMAND_ID)return t._encodeCreateControllerCommand(e);if(e.id===s.CREATE_PRESENTATION_MODEL_COMMAND_ID)return t._encodeCreatePresentationModelCommand(e);if(e.id===s.DELETE_PRESENTATION_MODEL_COMMAND_ID)return t._encodeDeletePresentationModelCommand(e);if(e.id===s.DESTROY_CONTEXT_COMMAND_ID)return t._encodeDestroyContextCommand(e);if(e.id===s.DESTROY_CONTROLLER_COMMAND_ID)return t._encodeDestroyControllerCommand(e);if(e.id===s.INTERRUPT_LONG_POLL_COMMAND_ID)return t._encodeInterruptLongPollCommand(e);if(e.id===s.PRESENTATION_MODEL_DELETED_COMMAND_ID)return t._encodePresentationModelDeletedCommand(e);if(e.id===s.START_LONG_POLL_COMMAND_ID)return t._encodeStartLongPollCommand(e);if(e.id===s.VALUE_CHANGED_COMMAND_ID)return t._encodeValueChangedCommand(e);throw new E.default("Command of type "+e.id+" can not be handled")}))}},{key:"decode",value:function(e){if((0,l.checkMethod)("Codec.decode"),(0,l.checkParam)(e,"transmitted"),(void 0===e?"undefined":i(e))===u.JS_STRING_TYPE){var t=this;return JSON.parse(e).map(function(e){if(e.id===s.ATTRIBUTE_METADATA_CHANGED_COMMAND_ID)return t._decodeAttributeMetadataChangedCommand(e);if(e.id===s.CALL_ACTION_COMMAND_ID)return t._decodeCallActionCommand(e);if(e.id===s.CHANGE_ATTRIBUTE_METADATA_COMMAND_ID)return t._decodeChangeAttributeMetadataCommand(e);if(e.id===s.CREATE_CONTEXT_COMMAND_ID)return t._decodeCreateContextCommand(e);if(e.id===s.CREATE_CONTROLLER_COMMAND_ID)return t._decodeCreateControllerCommand(e);if(e.id===s.CREATE_PRESENTATION_MODEL_COMMAND_ID)return t._decodeCreatePresentationModelCommand(e);if(e.id===s.DELETE_PRESENTATION_MODEL_COMMAND_ID)return t._decodeDeletePresentationModelCommand(e);if(e.id===s.DESTROY_CONTEXT_COMMAND_ID)return t._decodeDestroyContextCommand(e);if(e.id===s.DESTROY_CONTROLLER_COMMAND_ID)return t._decodeDestroyControllerCommand(e);if(e.id===s.INTERRUPT_LONG_POLL_COMMAND_ID)return t._decodeInterruptLongPollCommand(e);if(e.id===s.PRESENTATION_MODEL_DELETED_COMMAND_ID)return t._decodePresentationModelDeletedCommand(e);if(e.id===s.START_LONG_POLL_COMMAND_ID)return t._decodeStartLongPollCommand(e);if(e.id===s.VALUE_CHANGED_COMMAND_ID)return t._decodeValueChangedCommand(e);throw new E.default("Command of type "+e.id+" can not be handled")})}throw new E.default("Can not decode data that is not of type string")}}]),e}();n.default=A},{"../constants":110,"../utils":121,"./codecError":93,"./commandConstants":94,"./impl/attributeMetadataChangedCommand":96,"./impl/callActionCommand":97,"./impl/changeAttributeMetadataCommand":98,"./impl/createContextCommand":99,"./impl/createControllerCommand":100,"./impl/createPresentationModelCommand":101,"./impl/deletePresentationModelCommand":102,"./impl/destroyContextCommand":103,"./impl/destroyControllerCommand":104,"./impl/interruptLongPollCommand":105,"./impl/presentationModelDeletedCommand":106,"./impl/startLongPollCommand":107,"./impl/valueChangedCommand":108}],93:[function(e,t,n){var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)};Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();n.default=i},{}],94:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.ATTRIBUTE_METADATA_CHANGED_COMMAND_ID="AttributeMetadataChanged",n.CALL_ACTION_COMMAND_ID="CallAction",n.CHANGE_ATTRIBUTE_METADATA_COMMAND_ID="ChangeAttributeMetadata",n.CREATE_CONTEXT_COMMAND_ID="CreateContext",n.CREATE_CONTROLLER_COMMAND_ID="CreateController",n.CREATE_PRESENTATION_MODEL_COMMAND_ID="CreatePresentationModel",n.DELETE_PRESENTATION_MODEL_COMMAND_ID="DeletePresentationModel",n.DESTROY_CONTEXT_COMMAND_ID="DestroyContext",n.DESTROY_CONTROLLER_COMMAND_ID="DestroyController",n.INTERRUPT_LONG_POLL_COMMAND_ID="InterruptLongPoll",n.PRESENTATION_MODEL_DELETED_COMMAND_ID="PresentationModelDeleted",n.START_LONG_POLL_COMMAND_ID="StartLongPoll",n.VALUE_CHANGED_COMMAND_ID="ValueChanged",n.ID="id",n.ATTRIBUTE_ID="a_id",n.PM_ID="p_id",n.CONTROLLER_ID="c_id",n.PM_TYPE="t",n.NAME="n",n.VALUE="v",n.PARAMS="p",n.PM_ATTRIBUTES="a"},{}],95:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=_(e("./impl/createContextCommand")),a=_(e("./impl/createControllerCommand")),i=_(e("./impl/callActionCommand")),c=_(e("./impl/destroyControllerCommand")),l=_(e("./impl/destroyContextCommand")),u=_(e("./impl/startLongPollCommand")),s=_(e("./impl/interruptLongPollCommand")),d=_(e("./impl/createPresentationModelCommand")),f=_(e("./impl/deletePresentationModelCommand")),h=_(e("./impl/presentationModelDeletedCommand")),m=_(e("./impl/valueChangedCommand")),p=_(e("./impl/changeAttributeMetadataCommand")),y=_(e("./impl/attributeMetadataChangedCommand"));function _(e){return e&&e.__esModule?e:{default:e}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"createCreateContextCommand",value:function(){return new r.default}},{key:"createCreateControllerCommand",value:function(e,t){var n=new a.default;return n.init(e,t),n}},{key:"createCallActionCommand",value:function(e,t,n){var o=new i.default;return o.init(e,t,n),o}},{key:"createDestroyControllerCommand",value:function(e){var t=new c.default;return t.init(e),t}},{key:"createDestroyContextCommand",value:function(){return new l.default}},{key:"createStartLongPollCommand",value:function(){return new u.default}},{key:"createInterruptLongPollCommand",value:function(){return new s.default}},{key:"createCreatePresentationModelCommand",value:function(e){var t=new d.default;return t.init(e),t}},{key:"createDeletePresentationModelCommand",value:function(e){var t=new f.default;return t.init(e),t}},{key:"createPresentationModelDeletedCommand",value:function(e){var t=new h.default;return t.init(e),t}},{key:"createValueChangedCommand",value:function(e,t){var n=new m.default;return n.init(e,t),n}},{key:"createChangeAttributeMetadataCommand",value:function(e,t,n){var o=new p.default;return o.init(e,t,n),o}},{key:"createAttributeMetadataChangedCommand",value:function(e,t,n){var o=new y.default;return o.init(e,t,n),o}}]),e}();n.default=v},{"./impl/attributeMetadataChangedCommand":96,"./impl/callActionCommand":97,"./impl/changeAttributeMetadataCommand":98,"./impl/createContextCommand":99,"./impl/createControllerCommand":100,"./impl/createPresentationModelCommand":101,"./impl/deletePresentationModelCommand":102,"./impl/destroyContextCommand":103,"./impl/destroyControllerCommand":104,"./impl/interruptLongPollCommand":105,"./impl/presentationModelDeletedCommand":106,"./impl/startLongPollCommand":107,"./impl/valueChangedCommand":108}],96:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("../commandConstants"),a=e("../../utils");var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r.ATTRIBUTE_METADATA_CHANGED_COMMAND_ID}return o(e,[{key:"init",value:function(e,t,n){(0,a.checkMethod)("AttributeMetadataChangedCommand.init()"),(0,a.checkParam)(e,"attributeId"),(0,a.checkParam)(t,"metadataName"),this.attributeId=e,this.metadataName=t,this.value=n}}]),e}();n.default=i},{"../../utils":121,"../commandConstants":94}],97:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("../commandConstants"),a=e("../../utils");var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r.CALL_ACTION_COMMAND_ID}return o(e,[{key:"init",value:function(e,t,n){(0,a.checkMethod)("CreateControllerCommand.init()"),(0,a.checkParam)(e,"controllerid"),(0,a.checkParam)(t,"actionName"),this.controllerid=e,this.actionName=t,this.params=n}}]),e}();n.default=i},{"../../utils":121,"../commandConstants":94}],98:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("../commandConstants"),a=e("../../utils");var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r.CHANGE_ATTRIBUTE_METADATA_COMMAND_ID}return o(e,[{key:"init",value:function(e,t,n){(0,a.checkMethod)("ChangeAttributeMetadataCommand.init()"),(0,a.checkParam)(e,"attributeId"),(0,a.checkParam)(t,"metadataName"),this.attributeId=e,this.metadataName=t,this.value=n}}]),e}();n.default=i},{"../../utils":121,"../commandConstants":94}],99:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=e("../commandConstants");n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=o.CREATE_CONTEXT_COMMAND_ID}},{"../commandConstants":94}],100:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("../commandConstants"),a=e("../../utils");var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r.CREATE_CONTROLLER_COMMAND_ID}return o(e,[{key:"init",value:function(e,t){(0,a.checkMethod)("CreateControllerCommand.init()"),(0,a.checkParam)(e,"controllerName"),this.controllerName=e,this.parentControllerId=t}}]),e}();n.default=i},{"../../utils":121,"../commandConstants":94}],101:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("../commandConstants"),a=e("../../utils");var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r.CREATE_PRESENTATION_MODEL_COMMAND_ID}return o(e,[{key:"init",value:function(e){(0,a.checkMethod)("CreatePresentationModelCommand.init()"),(0,a.checkParam)(e,"presentationModel"),this.attributes=[],this.clientSideOnly=!1,this.pmId=e.id,this.pmType=e.presentationModelType;var t=this;e.getAttributes().forEach(function(e){t.attributes.push({propertyName:e.propertyName,id:e.id,value:e.getValue()})})}}]),e}();n.default=i},{"../../utils":121,"../commandConstants":94}],102:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("../commandConstants"),a=e("../../utils");var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r.DELETE_PRESENTATION_MODEL_COMMAND_ID}return o(e,[{key:"init",value:function(e){(0,a.checkMethod)("DeletePresentationModelCommand.init()"),(0,a.checkParam)(e,"pmId"),this.pmId=e}}]),e}();n.default=i},{"../../utils":121,"../commandConstants":94}],103:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=e("../commandConstants");n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=o.DESTROY_CONTEXT_COMMAND_ID}},{"../commandConstants":94}],104:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("../commandConstants"),a=e("../../utils");var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r.DESTROY_CONTROLLER_COMMAND_ID}return o(e,[{key:"init",value:function(e){(0,a.checkMethod)("DestroyControllerCommand.init()"),(0,a.checkParam)(e,"controllerId"),this.controllerId=e}}]),e}();n.default=i},{"../../utils":121,"../commandConstants":94}],105:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=e("../commandConstants");n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=o.INTERRUPT_LONG_POLL_COMMAND_ID}},{"../commandConstants":94}],106:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("../commandConstants"),a=e("../../utils");var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r.PRESENTATION_MODEL_DELETED_COMMAND_ID}return o(e,[{key:"init",value:function(e){(0,a.checkMethod)("PresentationModelDeletedCommand.init()"),(0,a.checkParam)(e,"pmId"),this.pmId=e}}]),e}();n.default=i},{"../../utils":121,"../commandConstants":94}],107:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=e("../commandConstants");n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=o.START_LONG_POLL_COMMAND_ID}},{"../commandConstants":94}],108:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("../commandConstants"),a=e("../../utils");var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r.VALUE_CHANGED_COMMAND_ID}return o(e,[{key:"init",value:function(e,t){(0,a.checkMethod)("ValueChangedCommand.init()"),(0,a.checkParam)(e,"attributeId"),this.attributeId=e,this.newValue=t}}]),e}();n.default=i},{"../../utils":121,"../commandConstants":94}],109:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=l(e("../bower_components/core.js/library/fn/promise")),a=e("./utils"),i=l(e("./commands/commandFactory")),c=e("./constants");function l(e){return e&&e.__esModule?e:{default:e}}var u="@@@ DOLPHIN_BEAN @@@",s="@@@ CONTROLLER_ACTION_CALL_BEAN @@@",d="@DP:LS@",f="@@@ SOURCE_SYSTEM @@@",h="server",m=function(){function e(t,n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,a.checkMethod)("Connector(url, dolphin, classRepository, config)"),(0,a.checkParam)(t,"url"),(0,a.checkParam)(n,"dolphin"),(0,a.checkParam)(o,"classRepository");var l=this;this.dolphin=n,this.config=i,this.classRepository=o,this.highlanderPMResolver=function(){},this.highlanderPMPromise=new r.default(function(e){l.highlanderPMResolver=e}),n.getClientModelStore().onModelStoreChange(function(e){var t=e.clientPresentationModel,n=t.findAttributeByPropertyName(f);(0,a.exists)(n)&&n.value===h&&(e.eventType===c.ADDED_TYPE?l.onModelAdded(t):e.eventType===c.REMOVED_TYPE&&l.onModelRemoved(t))})}return o(e,[{key:"connect",value:function(){this.dolphin.startPushListening(i.default.createStartLongPollCommand(),i.default.createInterruptLongPollCommand())}},{key:"onModelAdded",value:function(e){switch((0,a.checkMethod)("Connector.onModelAdded(model)"),(0,a.checkParam)(e,"model"),e.presentationModelType){case s:break;case u:this.classRepository.registerClass(e);break;case"@@@ HIGHLANDER_BEAN @@@":this.highlanderPMResolver(e);break;case d:this.classRepository.spliceListEntry(e),this.dolphin.deletePresentationModel(e);break;default:this.classRepository.load(e)}}},{key:"onModelRemoved",value:function(e){switch((0,a.checkMethod)("Connector.onModelRemoved(model)"),(0,a.checkParam)(e,"model"),e.presentationModelType){case u:this.classRepository.unregisterClass(e);break;case d:break;default:this.classRepository.unload(e)}}},{key:"invoke",value:function(e){(0,a.checkMethod)("Connector.invoke(command)"),(0,a.checkParam)(e,"command");var t=this.dolphin;return new r.default(function(n){t.send(e,{onFinished:function(){n()}})})}},{key:"getHighlanderPM",value:function(){return this.highlanderPMPromise}}]),e}();n.default=m,n.SOURCE_SYSTEM=f,n.SOURCE_SYSTEM_CLIENT="client",n.SOURCE_SYSTEM_SERVER=h,n.ACTION_CALL_BEAN=s},{"../bower_components/core.js/library/fn/promise":2,"./commands/commandFactory":95,"./constants":110,"./utils":121}],110:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.JS_STRING_TYPE="string",n.DOLPHIN_BEAN=0,n.BYTE=1,n.SHORT=2,n.INT=3,n.LONG=4,n.FLOAT=5,n.DOUBLE=6,n.BOOLEAN=7,n.STRING=8,n.DATE=9,n.ENUM=10,n.CALENDAR=11,n.LOCAL_DATE_FIELD_TYPE=55,n.LOCAL_DATE_TIME_FIELD_TYPE=52,n.ZONED_DATE_TIME_FIELD_TYPE=54,n.ADDED_TYPE="ADDED",n.REMOVED_TYPE="REMOVED"},{}],111:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(e("../bower_components/core.js/library/fn/promise")),a=s(e("../bower_components/core.js/library/fn/set")),i=e("./utils"),c=s(e("./controllerproxy.js")),l=s(e("./commands/commandFactory.js")),u=e("./connector.js");function s(e){return e&&e.__esModule?e:{default:e}}var d="controllerId",f="errorCode",h=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,i.checkMethod)("ControllerManager(dolphin, classRepository, connector)"),(0,i.checkParam)(t,"dolphin"),(0,i.checkParam)(n,"classRepository"),(0,i.checkParam)(o,"connector"),this.dolphin=t,this.classRepository=n,this.connector=o,this.controllers=new a.default}return o(e,[{key:"createController",value:function(e){return this._createController(e,null)}},{key:"_createController",value:function(e,t){(0,i.checkMethod)("ControllerManager.createController(name)"),(0,i.checkParam)(e,"name");var n=this,o=void 0,a=void 0,u=void 0,s=void 0;return new r.default(function(r){n.connector.getHighlanderPM().then(function(i){n.connector.invoke(l.default.createCreateControllerCommand(e,t)).then(function(){o=i.findAttributeByPropertyName(d).getValue(),a=i.findAttributeByPropertyName("model").getValue(),u=n.classRepository.mapDolphinToBean(a),s=new c.default(o,u,n),n.controllers.add(s),r(s)})})})}},{key:"invokeAction",value:function(e,t,n){(0,i.checkMethod)("ControllerManager.invokeAction(controllerId, actionName, params)"),(0,i.checkParam)(e,"controllerId"),(0,i.checkParam)(t,"actionName");var o=this;return new r.default(function(r,a){var c=[o.dolphin.attribute(u.SOURCE_SYSTEM,null,u.SOURCE_SYSTEM_CLIENT),o.dolphin.attribute(f)],s=o.dolphin.presentationModel.apply(o.dolphin,[null,u.ACTION_CALL_BEAN].concat(c)),d=[];if((0,i.exists)(n))for(var h in n)if(n.hasOwnProperty(h)){var m=o.classRepository.mapParamToDolphin(n[h]);d.push({name:h,value:m})}o.connector.invoke(l.default.createCallActionCommand(e,t,d)).then(function(){s.findAttributeByPropertyName(f).getValue()?a(new Error("Server side ControllerAction "+t+" caused an error. Please see server log for details.")):r(),o.dolphin.deletePresentationModel(s)})})}},{key:"destroyController",value:function(e){(0,i.checkMethod)("ControllerManager.destroyController(controller)"),(0,i.checkParam)(e,"controller");var t=this;return new r.default(function(n){t.connector.getHighlanderPM().then(function(o){t.controllers.delete(e),o.findAttributeByPropertyName(d).setValue(e.controllerId),t.connector.invoke(l.default.createDestroyControllerCommand(e.getId())).then(n)})})}},{key:"destroy",value:function(){var e=this.controllers,t=[];return this.controllers=new a.default,e.forEach(function(e){try{t.push(e.destroy())}catch(e){}}),r.default.all(t)}}]),e}();n.default=h},{"../bower_components/core.js/library/fn/promise":2,"../bower_components/core.js/library/fn/set":3,"./commands/commandFactory.js":95,"./connector.js":109,"./controllerproxy.js":112,"./utils":121}],112:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=e("../bower_components/core.js/library/fn/set"),i=(o=a)&&o.__esModule?o:{default:o},c=e("./utils");var l=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,c.checkMethod)("ControllerProxy(controllerId, model, manager)"),(0,c.checkParam)(t,"controllerId"),(0,c.checkParam)(n,"model"),(0,c.checkParam)(o,"manager"),this.controllerId=t,this.model=n,this.manager=o,this.destroyed=!1,this.onDestroyedHandlers=new i.default}return r(e,[{key:"getModel",value:function(){return this.model}},{key:"getId",value:function(){return this.controllerId}},{key:"invoke",value:function(e,t){if((0,c.checkMethod)("ControllerProxy.invoke(name, params)"),(0,c.checkParam)(e,"name"),this.destroyed)throw new Error("The controller was already destroyed");return this.manager.invokeAction(this.controllerId,e,t)}},{key:"createController",value:function(e){return this.manager._createController(e,this.getId())}},{key:"destroy",value:function(){var e=this;if(this.destroyed)throw new Error("The controller was already destroyed");return this.destroyed=!0,this.onDestroyedHandlers.forEach(function(t){try{t(e)}catch(e){console.warn("An exception occurred while calling an onDestroyed-handler",e)}},this),this.manager.destroyController(this)}},{key:"onDestroyed",value:function(e){(0,c.checkMethod)("ControllerProxy.onDestroyed(handler)"),(0,c.checkParam)(e,"handler");var t=this;return this.onDestroyedHandlers.add(e),{unsubscribe:function(){t.onDestroyedHandlers.delete(e)}}}}]),e}();n.default=l},{"../bower_components/core.js/library/fn/set":3,"./utils":121}],113:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(e("./clientConnector")),a=u(e("./clientDolphin")),i=u(e("./clientModelStore")),c=u(e("./httpTransmitter")),l=u(e("./noTransmitter"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset_=!1,this.slackMS_=300,this.maxBatchSize_=50,this.supportCORS_=!1}return o(e,[{key:"url",value:function(e){return this.url_=e,this}},{key:"reset",value:function(e){return this.reset_=e,this}},{key:"slackMS",value:function(e){return this.slackMS_=e,this}},{key:"maxBatchSize",value:function(e){return this.maxBatchSize_=e,this}},{key:"supportCORS",value:function(e){return this.supportCORS_=e,this}},{key:"errorHandler",value:function(e){return this.errorHandler_=e,this}},{key:"headersInfo",value:function(e){return this.headersInfo_=e,this}},{key:"build",value:function(){console.log("OpenDolphin js found");var e,t=new a.default;return e=null!=this.url_&&this.url_.length>0?new c.default(this.url_,this.reset_,"UTF-8",this.errorHandler_,this.supportCORS_,this.headersInfo_):new l.default,t.setClientConnector(new r.default(e,t,this.slackMS_,this.maxBatchSize_)),t.setClientModelStore(new i.default(t)),console.log("ClientDolphin initialized"),t}}]),e}();n.default=s},{"./clientConnector":85,"./clientDolphin":87,"./clientModelStore":88,"./httpTransmitter":116,"./noTransmitter":117}],114:[function(e,t,n){var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});n.DolphinRemotingError=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Remoting Error",n=arguments[1];i(this,t);var o=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.detail=n||void 0,o}return l(t,Error),t}(),n.DolphinSessionError=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Session Error";return i(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return l(t,Error),t}(),n.HttpResponseError=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Http Response Error";return i(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return l(t,Error),t}(),n.HttpNetworkError=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Http Network Error";return i(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return l(t,Error),t}()},{}],115:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventHandlers=[]}return o(e,[{key:"onEvent",value:function(e){this.eventHandlers.push(e)}},{key:"trigger",value:function(e){this.eventHandlers.forEach(function(t){return t(e)})}}]),e}();n.default=r},{}],116:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=e("./commands/codec"),i=(o=a)&&o.__esModule?o:{default:o};var c=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UTF-8",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.charset=o,this.HttpCodes={finished:4,success:200},this.errorHandler=r,this.supportCORS=a,this.headersInfo=c,this.http=new XMLHttpRequest,this.sig=new XMLHttpRequest,this.supportCORS&&"withCredentials"in this.http&&(this.http.withCredentials=!0,this.sig.withCredentials=!0),this.codec=new i.default,n&&(console.log("HttpTransmitter.invalidate() is deprecated. Use ClientDolphin.reset(OnSuccessHandler) instead"),this.invalidate())}return r(e,[{key:"transmit",value:function(e,t){var n=this;this.http.onerror=function(){n.handleError("onerror",""),t([])},this.http.onreadystatechange=function(){if(n.http.readyState==n.HttpCodes.finished)if(n.http.status==n.HttpCodes.success){var e=n.http.responseText;if(e.trim().length>0)try{var o=n.codec.decode(e);t(o)}catch(o){console.log("Error occurred parsing responseText: ",o),console.log("Incorrect responseText: ",e),n.handleError("application","HttpTransmitter: Incorrect responseText: "+e),t([])}else n.handleError("application","HttpTransmitter: empty responseText"),t([])}else n.handleError("application","HttpTransmitter: HTTP Status != 200"),t([])},this.http.open("POST",this.url,!0),this.setHeaders(this.http),"overrideMimeType"in this.http&&this.http.overrideMimeType("application/json; charset="+this.charset),this.http.send(this.codec.encode(e))}},{key:"setHeaders",value:function(e){if(this.headersInfo)for(var t in this.headersInfo)this.headersInfo.hasOwnProperty(t)&&e.setRequestHeader(t,this.headersInfo[t])}},{key:"handleError",value:function(e,t){var n={kind:e,url:this.url,httpStatus:this.http.status,message:t};this.errorHandler?this.errorHandler(n):console.log("Error occurred: ",n)}},{key:"signal",value:function(e){this.sig.open("POST",this.url,!0),this.setHeaders(this.sig),this.sig.send(this.codec.encode([e]))}},{key:"invalidate",value:function(){this.http.open("POST",this.url+"invalidate?",!1),this.http.send()}}]),e}();n.default=c},{"./commands/codec":92}],117:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"transmit",value:function(e,t){t([])}},{key:"signal",value:function(){}},{key:"reset",value:function(){}}]),e}();n.default=r},{}],118:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.dolphin=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;return i().url(e).reset(t).slackMS(n).build()},n.makeDolphin=i;var o,r=e("./dolphinBuilder"),a=(o=r)&&o.__esModule?o:{default:o};function i(){return new a.default}},{"./dolphinBuilder":113}],119:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(e("emitter-component")),a=e("./utils"),i=e("./errors"),c=u(e("./commands/codec")),l=u(e("./remotingErrorHandler"));function u(e){return e&&e.__esModule?e:{default:e}}var s="dolphin_platform_intern_dolphinClientId",d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.config=n,this.headersInfo=(0,a.exists)(n)?n.headersInfo:null;var o=(0,a.exists)(n)?n.connection:null;this.maxRetry=(0,a.exists)(o)&&(0,a.exists)(o.maxRetry)?o.maxRetry:3,this.timeout=(0,a.exists)(o)&&(0,a.exists)(o.timeout)?o.timeout:5e3,this.failed_attempt=0}return o(e,[{key:"_handleError",value:function(e,t){var n=(0,a.exists)(this.config)?this.config.connection:null;((0,a.exists)(n)&&(0,a.exists)(n.errorHandlers)?n.errorHandlers:[new l.default]).forEach(function(e){e.onError(t)}),e(t)}},{key:"_send",value:function(e){var t=this;return new Promise(function(n,o){var r=new XMLHttpRequest;if(r.withCredentials=!0,r.onerror=function(e){t._handleError(o,new i.HttpNetworkError("PlatformHttpTransmitter: Network error",e))},r.onreadystatechange=function(){if(4===r.readyState)switch(r.status){case 200:t.failed_attempt=0;var e=r.getResponseHeader(s);(0,a.exists)(e)?((0,a.exists)(t.clientId)&&t.clientId!==e&&t._handleError(o,new i.DolphinSessionError("PlatformHttpTransmitter: ClientId of the response did not match")),t.clientId=e):t._handleError(o,new i.DolphinSessionError("PlatformHttpTransmitter: Server did not send a clientId")),n(r.responseText);break;case 408:t._handleError(o,new i.DolphinSessionError("PlatformHttpTransmitter: Session Timeout"));break;default:t.failed_attempt<=t.maxRetry&&(t.failed_attempt=t.failed_attempt+1),t._handleError(o,new i.HttpResponseError("PlatformHttpTransmitter: HTTP Status != 200 ("+r.status+")"))}},r.open("POST",t.url),(0,a.exists)(t.clientId)&&r.setRequestHeader(s,t.clientId),(0,a.exists)(t.headersInfo))for(var l in t.headersInfo)t.headersInfo.hasOwnProperty(l)&&r.setRequestHeader(l,t.headersInfo[l]);t.failed_attempt>t.maxRetry?setTimeout(function(){r.send(c.default.encode(e))},t.timeout):r.send(c.default.encode(e))})}},{key:"transmit",value:function(e,t){var n=this;this._send(e).then(function(e){if(e.trim().length>0)try{var o=c.default.decode(e);t(o)}catch(o){n.emit("error",new i.DolphinRemotingError("PlatformHttpTransmitter: Parse error: (Incorrect response = "+e+")")),t([])}else n.emit("error",new i.DolphinRemotingError("PlatformHttpTransmitter: Empty response")),t([])}).catch(function(e){n.emit("error",e),t([])})}},{key:"signal",value:function(e){var t=this;this._send([e]).catch(function(e){return t.emit("error",e)})}}]),e}();n.default=d,(0,r.default)(d.prototype)},{"./commands/codec":92,"./errors":114,"./remotingErrorHandler":120,"./utils":121,"emitter-component":80}],120:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"onError",value:function(e){window.console.error(e)}}]),e}();n.default=r},{}],121:[function(e,t,n){var o;function r(e){return null!=e}Object.defineProperty(n,"__esModule",{value:!0}),n.exists=r,n.checkMethod=function(e){o=e},n.checkParam=function(e,t){if(!r(e))throw new Error("The parameter "+t+" is mandatory in "+o)}},{}]},{},[86])(86)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var o=e("../bower_components/dolphin-platform-js/dist/dolphin-platform.js");angular.module("DolphinPlatform",[]),angular.module("DolphinPlatform").provider("$dolphinConfig",[function(){var e={};this.configure=function(t){e=t},this.$get=function(){return e}}]),angular.module("DolphinPlatform").factory("clientContextFactory",function(){return new o.ClientContextFactory}),angular.module("DolphinPlatform").factory("vanillaClientContext",["clientContextFactory","$dolphinConfig",function(e,t){return e.create(t.DOLPHIN_URL,t)}]),angular.module("DolphinPlatform").factory("dolphinBinding",["$rootScope","$timeout","vanillaClientContext","$log",function(e,t,n,o){e.waitingForGlobalDolphinApply=!1,e.applyInAngular=function(){e.waitingForGlobalDolphinApply||(e.waitingForGlobalDolphinApply=!0,t(function(){e.waitingForGlobalDolphinApply=!1,o.debug("Angular apply is called by Dolphin Platform"),e.$apply()},100))};var r={injectArray:function(e,t,n){e.splice.apply(e,[t,0].concat(n))},exists:function(e){return null!=e},deepEqual:function(e,t){if(e===t||!this.exists(e)&&!this.exists(t))return!0;if(this.exists(e)!==this.exists(t))return!1;var n=e.length;if(t.length!==n)return!1;for(var o=0;o<n;o++)if(e[o]!==t[o])return!1;return!0},init:function(e){e.onAdded(r.onBeanAddedHandler),e.onRemoved(r.onBeanRemovedHandler),e.onBeanUpdate(r.onBeanUpdateHandler),e.onArrayUpdate(r.onArrayUpdateHandler),o.debug("Dolphin Platform binding listeners for Angular registered")},watchAttribute:function(t,r){o.debug("Added Angular listener for property "+r+" of bean "+JSON.stringify(t)),e.$watch(function(){return t[r]},function(e,a){o.debug("Value "+r+" of bean "+JSON.stringify(t)+" changed from "+a+" to "+e),n.beanManager.classRepository.notifyBeanChange(t,r,e)})},onBeanAddedHandler:function(t){for(var n in o.debug("Bean "+JSON.stringify(t)+" added"),t)r.watchAttribute(t,n);e.applyInAngular()},onBeanRemovedHandler:function(t){o.debug("Bean "+JSON.stringify(t)+" removed"),e.applyInAngular()},onBeanUpdateHandler:function(t,n,a,i){var c=!0;for(var l in t)l===n&&(c=!1);c&&(o.debug("Value "+n+" was added to bean "+JSON.stringify(t)),r.watchAttribute(t,n)),i!==a?(o.debug("Bean update for property "+n+' with new value "'+a+'"'),t[n]=a,e.applyInAngular()):o.debug("Received bean update for property "+n+" without any change")},onArrayUpdateHandler:function(t,n,a,i,c){var l=t[n],u=l.slice(a,a+i);if(!r.deepEqual(c,u))if(o.debug("Array update for property "+n+" starting at index "+a+" with "+JSON.stringify(c)),void 0===c||c&&0===c.length)l.splice(a,i),e.applyInAngular();else{for(t in r.injectArray(l,a,c),c)for(var s in t)r.watchAttribute(t,s);e.applyInAngular()}}};return o.debug("Dolphin Platform binding created"),r}]),angular.module("DolphinPlatform").factory("clientContext",["vanillaClientContext","dolphinBinding","$window","$log",function(e,t,n,o){var r={createController:function(t,n){return e.createController(n).then(function(e){return o.debug("Creating Dolphin Platform controller "+n),t.$on("$destroy",function(){o.debug("Destroying Dolphin Platform controller "+n),e.destroy()}),t.model=e.model,e})},disconnect:function(){e.disconnect().then(function(){o.debug("Dolphin Platform context disconnected")})},connect:function(){e.connect().then(function(){o.debug("Dolphin Platform context connected")})},onConnect:function(){return e.onConnect().then(function(){o.debug("Dolphin Platform context connected")})}};return t.init(e.beanManager),n.onbeforeunload=r.disconnect,o.debug("Dolphin Platform context created"),r}])},{"../bower_components/dolphin-platform-js/dist/dolphin-platform.js":1}]},{},[2]);
//# sourceMappingURL=dolphin-platform-angular.min.js.map
